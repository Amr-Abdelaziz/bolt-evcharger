function vv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var $f={exports:{}},Yo={},Uf={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=Symbol.for("react.element"),wv=Symbol.for("react.portal"),xv=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),Sv=Symbol.for("react.profiler"),Pv=Symbol.for("react.provider"),Ev=Symbol.for("react.context"),Cv=Symbol.for("react.forward_ref"),Lv=Symbol.for("react.suspense"),Tv=Symbol.for("react.memo"),bv=Symbol.for("react.lazy"),nd=Symbol.iterator;function Ov(e){return e===null||typeof e!="object"?null:(e=nd&&e[nd]||e["@@iterator"],typeof e=="function"?e:null)}var Ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zf=Object.assign,Hf={};function tr(e,t,n){this.props=e,this.context=t,this.refs=Hf,this.updater=n||Ff}tr.prototype.isReactComponent={};tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wf(){}Wf.prototype=tr.prototype;function Fu(e,t,n){this.props=e,this.context=t,this.refs=Hf,this.updater=n||Ff}var Zu=Fu.prototype=new Wf;Zu.constructor=Fu;Zf(Zu,tr.prototype);Zu.isPureReactComponent=!0;var id=Array.isArray,Vf=Object.prototype.hasOwnProperty,Hu={current:null},Gf={key:!0,ref:!0,__self:!0,__source:!0};function qf(e,t,n){var r,o={},a=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)Vf.call(t,r)&&!Gf.hasOwnProperty(r)&&(o[r]=t[r]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];o.children=d}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)o[r]===void 0&&(o[r]=h[r]);return{$$typeof:gs,type:e,key:a,ref:u,props:o,_owner:Hu.current}}function Nv(e,t){return{$$typeof:gs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wu(e){return typeof e=="object"&&e!==null&&e.$$typeof===gs}function Iv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rd=/\/+/g;function rl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Iv(""+e.key):t.toString(36)}function fo(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case gs:case wv:u=!0}}if(u)return u=e,o=o(u),e=r===""?"."+rl(u,0):r,id(o)?(n="",e!=null&&(n=e.replace(rd,"$&/")+"/"),fo(o,t,n,"",function(p){return p})):o!=null&&(Wu(o)&&(o=Nv(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(rd,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=r===""?".":r+":",id(e))for(var h=0;h<e.length;h++){a=e[h];var d=r+rl(a,h);u+=fo(a,t,n,d,o)}else if(d=Ov(e),typeof d=="function")for(e=d.call(e),h=0;!(a=e.next()).done;)a=a.value,d=r+rl(a,h++),u+=fo(a,t,n,d,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Ws(e,t,n){if(e==null)return e;var r=[],o=0;return fo(e,r,"","",function(a){return t.call(n,a,o++)}),r}function jv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},po={transition:null},Mv={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:po,ReactCurrentOwner:Hu};function Kf(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Ws,forEach:function(e,t,n){Ws(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ws(e,function(){t++}),t},toArray:function(e){return Ws(e,function(t){return t})||[]},only:function(e){if(!Wu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=tr;ee.Fragment=xv;ee.Profiler=Sv;ee.PureComponent=Fu;ee.StrictMode=kv;ee.Suspense=Lv;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;ee.act=Kf;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zf({},e.props),o=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=Hu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(d in t)Vf.call(t,d)&&!Gf.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&h!==void 0?h[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:gs,type:e.type,key:o,ref:a,props:r,_owner:u}};ee.createContext=function(e){return e={$$typeof:Ev,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pv,_context:e},e.Consumer=e};ee.createElement=qf;ee.createFactory=function(e){var t=qf.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:Cv,render:e}};ee.isValidElement=Wu;ee.lazy=function(e){return{$$typeof:bv,_payload:{_status:-1,_result:e},_init:jv}};ee.memo=function(e,t){return{$$typeof:Tv,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=po.transition;po.transition={};try{e()}finally{po.transition=t}};ee.unstable_act=Kf;ee.useCallback=function(e,t){return Je.current.useCallback(e,t)};ee.useContext=function(e){return Je.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Je.current.useEffect(e,t)};ee.useId=function(){return Je.current.useId()};ee.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Je.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};ee.useRef=function(e){return Je.current.useRef(e)};ee.useState=function(e){return Je.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Je.current.useTransition()};ee.version="18.3.1";Uf.exports=ee;var N=Uf.exports;const qr=Bf(N),Av=vv({__proto__:null,default:qr},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv=N,zv=Symbol.for("react.element"),Dv=Symbol.for("react.fragment"),Bv=Object.prototype.hasOwnProperty,$v=Rv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uv={key:!0,ref:!0,__self:!0,__source:!0};function Jf(e,t,n){var r,o={},a=null,u=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)Bv.call(t,r)&&!Uv.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:zv,type:e,key:a,ref:u,props:o,_owner:$v.current}}Yo.Fragment=Dv;Yo.jsx=Jf;Yo.jsxs=Jf;$f.exports=Yo;var w=$f.exports,Qf={exports:{}},pt={},Yf={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,V){var z=I.length;I.push(V);e:for(;0<z;){var G=z-1>>>1,te=I[G];if(0<o(te,V))I[G]=V,I[z]=te,z=G;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var V=I[0],z=I.pop();if(z!==V){I[0]=z;e:for(var G=0,te=I.length,Ce=te>>>1;G<Ce;){var ae=2*(G+1)-1,re=I[ae],q=ae+1,Xe=I[q];if(0>o(re,z))q<te&&0>o(Xe,re)?(I[G]=Xe,I[q]=z,G=q):(I[G]=re,I[ae]=z,G=ae);else if(q<te&&0>o(Xe,z))I[G]=Xe,I[q]=z,G=q;else break e}}return V}function o(I,V){var z=I.sortIndex-V.sortIndex;return z!==0?z:I.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var d=[],p=[],m=1,_=null,v=3,P=!1,T=!1,E=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var V=n(p);V!==null;){if(V.callback===null)r(p);else if(V.startTime<=I)r(p),V.sortIndex=V.expirationTime,t(d,V);else break;V=n(p)}}function b(I){if(E=!1,S(I),!T)if(n(d)!==null)T=!0,Se(A);else{var V=n(p);V!==null&&Ye(b,V.startTime-I)}}function A(I,V){T=!1,E&&(E=!1,x(F),F=-1),P=!0;var z=v;try{for(S(V),_=n(d);_!==null&&(!(_.expirationTime>V)||I&&!ue());){var G=_.callback;if(typeof G=="function"){_.callback=null,v=_.priorityLevel;var te=G(_.expirationTime<=V);V=e.unstable_now(),typeof te=="function"?_.callback=te:_===n(d)&&r(d),S(V)}else r(d);_=n(d)}if(_!==null)var Ce=!0;else{var ae=n(p);ae!==null&&Ye(b,ae.startTime-V),Ce=!1}return Ce}finally{_=null,v=z,P=!1}}var D=!1,$=null,F=-1,ce=5,K=-1;function ue(){return!(e.unstable_now()-K<ce)}function Ee(){if($!==null){var I=e.unstable_now();K=I;var V=!0;try{V=$(!0,I)}finally{V?H():(D=!1,$=null)}}else D=!1}var H;if(typeof y=="function")H=function(){y(Ee)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,gt=ge.port2;ge.port1.onmessage=Ee,H=function(){gt.postMessage(null)}}else H=function(){j(Ee,0)};function Se(I){$=I,D||(D=!0,H())}function Ye(I,V){F=j(function(){I(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){T||P||(T=!0,Se(A))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var z=v;v=V;try{return I()}finally{v=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,V){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=v;v=I;try{return V()}finally{v=z}},e.unstable_scheduleCallback=function(I,V,z){var G=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,I){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=z+te,I={id:m++,callback:V,priorityLevel:I,startTime:z,expirationTime:te,sortIndex:-1},z>G?(I.sortIndex=z,t(p,I),n(d)===null&&I===n(p)&&(E?(x(F),F=-1):E=!0,Ye(b,z-G))):(I.sortIndex=te,t(d,I),T||P||(T=!0,Se(A))),I},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(I){var V=v;return function(){var z=v;v=V;try{return I.apply(this,arguments)}finally{v=z}}}})(Xf);Yf.exports=Xf;var Fv=Yf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv=N,ft=Fv;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ep=new Set,Kr={};function ai(e,t){Wi(e,t),Wi(e+"Capture",t)}function Wi(e,t){for(Kr[e]=t,e=0;e<t.length;e++)ep.add(t[e])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=Object.prototype.hasOwnProperty,Hv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sd={},od={};function Wv(e){return Dl.call(od,e)?!0:Dl.call(sd,e)?!1:Hv.test(e)?od[e]=!0:(sd[e]=!0,!1)}function Vv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gv(e,t,n,r){if(t===null||typeof t>"u"||Vv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,o,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vu=/[\-:]([a-z])/g;function Gu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vu,Gu);Fe[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vu,Gu);Fe[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vu,Gu);Fe[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function qu(e,t,n,r){var o=Fe.hasOwnProperty(t)?Fe[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gv(t,n,o,r)&&(n=null),r||o===null?Wv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ln=Zv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vs=Symbol.for("react.element"),Ci=Symbol.for("react.portal"),Li=Symbol.for("react.fragment"),Ku=Symbol.for("react.strict_mode"),Bl=Symbol.for("react.profiler"),tp=Symbol.for("react.provider"),np=Symbol.for("react.context"),Ju=Symbol.for("react.forward_ref"),$l=Symbol.for("react.suspense"),Ul=Symbol.for("react.suspense_list"),Qu=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),ip=Symbol.for("react.offscreen"),ad=Symbol.iterator;function xr(e){return e===null||typeof e!="object"?null:(e=ad&&e[ad]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,sl;function Ir(e){if(sl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sl=t&&t[1]||""}return`
`+sl+e}var ol=!1;function al(e,t){if(!e||ol)return"";ol=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=r.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var d=`
`+o[u].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=u&&0<=h);break}}}finally{ol=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ir(e):""}function qv(e){switch(e.tag){case 5:return Ir(e.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 2:case 15:return e=al(e.type,!1),e;case 11:return e=al(e.type.render,!1),e;case 1:return e=al(e.type,!0),e;default:return""}}function Fl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Li:return"Fragment";case Ci:return"Portal";case Bl:return"Profiler";case Ku:return"StrictMode";case $l:return"Suspense";case Ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case np:return(e.displayName||"Context")+".Consumer";case tp:return(e._context.displayName||"Context")+".Provider";case Ju:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qu:return t=e.displayName||null,t!==null?t:Fl(e.type)||"Memo";case gn:t=e._payload,e=e._init;try{return Fl(e(t))}catch{}}return null}function Kv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fl(t);case 8:return t===Ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jv(e){var t=rp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gs(e){e._valueTracker||(e._valueTracker=Jv(e))}function sp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=rp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zl(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ld(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function op(e,t){t=t.checked,t!=null&&qu(e,"checked",t,!1)}function Hl(e,t){op(e,t);var n=Mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wl(e,t.type,Mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ud(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wl(e,t,n){(t!=="number"||Eo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jr=Array.isArray;function Di(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Vl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(jr(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mn(n)}}function ap(e,t){var n=Mn(t.value),r=Mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qs,up=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qv=["Webkit","ms","Moz","O"];Object.keys(zr).forEach(function(e){Qv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zr[t]=zr[e]})});function cp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zr.hasOwnProperty(e)&&zr[e]?(""+t).trim():t+"px"}function hp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=cp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Yv=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ql(e,t){if(t){if(Yv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Kl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jl=null;function Yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ql=null,Bi=null,$i=null;function dd(e){if(e=ys(e)){if(typeof Ql!="function")throw Error(R(280));var t=e.stateNode;t&&(t=ia(t),Ql(e.stateNode,e.type,t))}}function dp(e){Bi?$i?$i.push(e):$i=[e]:Bi=e}function fp(){if(Bi){var e=Bi,t=$i;if($i=Bi=null,dd(e),t)for(e=0;e<t.length;e++)dd(t[e])}}function pp(e,t){return e(t)}function mp(){}var ll=!1;function gp(e,t,n){if(ll)return e(t,n);ll=!0;try{return pp(e,t,n)}finally{ll=!1,(Bi!==null||$i!==null)&&(mp(),fp())}}function Qr(e,t){var n=e.stateNode;if(n===null)return null;var r=ia(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Yl=!1;if(rn)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{Yl=!1}function Xv(e,t,n,r,o,a,u,h,d){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(m){this.onError(m)}}var Dr=!1,Co=null,Lo=!1,Xl=null,ey={onError:function(e){Dr=!0,Co=e}};function ty(e,t,n,r,o,a,u,h,d){Dr=!1,Co=null,Xv.apply(ey,arguments)}function ny(e,t,n,r,o,a,u,h,d){if(ty.apply(this,arguments),Dr){if(Dr){var p=Co;Dr=!1,Co=null}else throw Error(R(198));Lo||(Lo=!0,Xl=p)}}function li(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fd(e){if(li(e)!==e)throw Error(R(188))}function iy(e){var t=e.alternate;if(!t){if(t=li(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return fd(o),e;if(a===r)return fd(o),t;a=a.sibling}throw Error(R(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,h=o.child;h;){if(h===n){u=!0,n=o,r=a;break}if(h===r){u=!0,r=o,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=o;break}if(h===r){u=!0,r=a,n=o;break}h=h.sibling}if(!u)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function vp(e){return e=iy(e),e!==null?yp(e):null}function yp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yp(e);if(t!==null)return t;e=e.sibling}return null}var wp=ft.unstable_scheduleCallback,pd=ft.unstable_cancelCallback,ry=ft.unstable_shouldYield,sy=ft.unstable_requestPaint,Te=ft.unstable_now,oy=ft.unstable_getCurrentPriorityLevel,Xu=ft.unstable_ImmediatePriority,xp=ft.unstable_UserBlockingPriority,To=ft.unstable_NormalPriority,ay=ft.unstable_LowPriority,kp=ft.unstable_IdlePriority,Xo=null,Wt=null;function ly(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Xo,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:hy,uy=Math.log,cy=Math.LN2;function hy(e){return e>>>=0,e===0?32:31-(uy(e)/cy|0)|0}var Ks=64,Js=4194304;function Mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var h=u&~o;h!==0?r=Mr(h):(a&=u,a!==0&&(r=Mr(a)))}else u=n&~o,u!==0?r=Mr(u):a!==0&&(r=Mr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mt(t),o=1<<n,r|=e[n],t&=~o;return r}function dy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Mt(a),h=1<<u,d=o[u];d===-1?(!(h&n)||h&r)&&(o[u]=dy(h,t)):d<=t&&(e.expiredLanes|=h),a&=~h}}function eu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sp(){var e=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),e}function ul(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _s(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=n}function py(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Mt(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function ec(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var le=0;function Pp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ep,tc,Cp,Lp,Tp,tu=!1,Qs=[],En=null,Cn=null,Ln=null,Yr=new Map,Xr=new Map,yn=[],my="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function md(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Yr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(t.pointerId)}}function Sr(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=ys(t),t!==null&&tc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function gy(e,t,n,r,o){switch(t){case"focusin":return En=Sr(En,e,t,n,r,o),!0;case"dragenter":return Cn=Sr(Cn,e,t,n,r,o),!0;case"mouseover":return Ln=Sr(Ln,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Yr.set(a,Sr(Yr.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Xr.set(a,Sr(Xr.get(a)||null,e,t,n,r,o)),!0}return!1}function bp(e){var t=Jn(e.target);if(t!==null){var n=li(t);if(n!==null){if(t=n.tag,t===13){if(t=_p(n),t!==null){e.blockedOn=t,Tp(e.priority,function(){Cp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jl=r,n.target.dispatchEvent(r),Jl=null}else return t=ys(n),t!==null&&tc(t),e.blockedOn=n,!1;t.shift()}return!0}function gd(e,t,n){mo(e)&&n.delete(t)}function _y(){tu=!1,En!==null&&mo(En)&&(En=null),Cn!==null&&mo(Cn)&&(Cn=null),Ln!==null&&mo(Ln)&&(Ln=null),Yr.forEach(gd),Xr.forEach(gd)}function Pr(e,t){e.blockedOn===t&&(e.blockedOn=null,tu||(tu=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,_y)))}function es(e){function t(o){return Pr(o,e)}if(0<Qs.length){Pr(Qs[0],e);for(var n=1;n<Qs.length;n++){var r=Qs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(En!==null&&Pr(En,e),Cn!==null&&Pr(Cn,e),Ln!==null&&Pr(Ln,e),Yr.forEach(t),Xr.forEach(t),n=0;n<yn.length;n++)r=yn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<yn.length&&(n=yn[0],n.blockedOn===null);)bp(n),n.blockedOn===null&&yn.shift()}var Ui=ln.ReactCurrentBatchConfig,Oo=!0;function vy(e,t,n,r){var o=le,a=Ui.transition;Ui.transition=null;try{le=1,nc(e,t,n,r)}finally{le=o,Ui.transition=a}}function yy(e,t,n,r){var o=le,a=Ui.transition;Ui.transition=null;try{le=4,nc(e,t,n,r)}finally{le=o,Ui.transition=a}}function nc(e,t,n,r){if(Oo){var o=nu(e,t,n,r);if(o===null)yl(e,t,r,No,n),md(e,r);else if(gy(o,e,t,n,r))r.stopPropagation();else if(md(e,r),t&4&&-1<my.indexOf(e)){for(;o!==null;){var a=ys(o);if(a!==null&&Ep(a),a=nu(e,t,n,r),a===null&&yl(e,t,r,No,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else yl(e,t,r,null,n)}}var No=null;function nu(e,t,n,r){if(No=null,e=Yu(r),e=Jn(e),e!==null)if(t=li(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return No=e,null}function Op(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oy()){case Xu:return 1;case xp:return 4;case To:case ay:return 16;case kp:return 536870912;default:return 16}default:return 16}}var kn=null,ic=null,go=null;function Np(){if(go)return go;var e,t=ic,n=t.length,r,o="value"in kn?kn.value:kn.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===o[a-r];r++);return go=o.slice(e,1<r?1-r:void 0)}function _o(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ys(){return!0}function _d(){return!1}function mt(e){function t(n,r,o,a,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ys:_d,this.isPropagationStopped=_d,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),t}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=mt(nr),vs=xe({},nr,{view:0,detail:0}),wy=mt(vs),cl,hl,Er,ea=xe({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(cl=e.screenX-Er.screenX,hl=e.screenY-Er.screenY):hl=cl=0,Er=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:hl}}),vd=mt(ea),xy=xe({},ea,{dataTransfer:0}),ky=mt(xy),Sy=xe({},vs,{relatedTarget:0}),dl=mt(Sy),Py=xe({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ey=mt(Py),Cy=xe({},nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ly=mt(Cy),Ty=xe({},nr,{data:0}),yd=mt(Ty),by={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ny[e])?!!t[e]:!1}function sc(){return Iy}var jy=xe({},vs,{key:function(e){if(e.key){var t=by[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_o(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Oy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(e){return e.type==="keypress"?_o(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_o(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),My=mt(jy),Ay=xe({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=mt(Ay),Ry=xe({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),zy=mt(Ry),Dy=xe({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),By=mt(Dy),$y=xe({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uy=mt($y),Fy=[9,13,27,32],oc=rn&&"CompositionEvent"in window,Br=null;rn&&"documentMode"in document&&(Br=document.documentMode);var Zy=rn&&"TextEvent"in window&&!Br,Ip=rn&&(!oc||Br&&8<Br&&11>=Br),xd=" ",kd=!1;function jp(e,t){switch(e){case"keyup":return Fy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ti=!1;function Hy(e,t){switch(e){case"compositionend":return Mp(t);case"keypress":return t.which!==32?null:(kd=!0,xd);case"textInput":return e=t.data,e===xd&&kd?null:e;default:return null}}function Wy(e,t){if(Ti)return e==="compositionend"||!oc&&jp(e,t)?(e=Np(),go=ic=kn=null,Ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ip&&t.locale!=="ko"?null:t.data;default:return null}}var Vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vy[e.type]:t==="textarea"}function Ap(e,t,n,r){dp(r),t=Io(t,"onChange"),0<t.length&&(n=new rc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $r=null,ts=null;function Gy(e){Vp(e,0)}function ta(e){var t=Ni(e);if(sp(t))return e}function qy(e,t){if(e==="change")return t}var Rp=!1;if(rn){var fl;if(rn){var pl="oninput"in document;if(!pl){var Pd=document.createElement("div");Pd.setAttribute("oninput","return;"),pl=typeof Pd.oninput=="function"}fl=pl}else fl=!1;Rp=fl&&(!document.documentMode||9<document.documentMode)}function Ed(){$r&&($r.detachEvent("onpropertychange",zp),ts=$r=null)}function zp(e){if(e.propertyName==="value"&&ta(ts)){var t=[];Ap(t,ts,e,Yu(e)),gp(Gy,t)}}function Ky(e,t,n){e==="focusin"?(Ed(),$r=t,ts=n,$r.attachEvent("onpropertychange",zp)):e==="focusout"&&Ed()}function Jy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ta(ts)}function Qy(e,t){if(e==="click")return ta(t)}function Yy(e,t){if(e==="input"||e==="change")return ta(t)}function Xy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Xy;function ns(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Dl.call(t,o)||!Rt(e[o],t[o]))return!1}return!0}function Cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ld(e,t){var n=Cd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cd(n)}}function Dp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bp(){for(var e=window,t=Eo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Eo(e.document)}return t}function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e0(e){var t=Bp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Dp(n.ownerDocument.documentElement,n)){if(r!==null&&ac(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=Ld(n,a);var u=Ld(n,r);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t0=rn&&"documentMode"in document&&11>=document.documentMode,bi=null,iu=null,Ur=null,ru=!1;function Td(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ru||bi==null||bi!==Eo(r)||(r=bi,"selectionStart"in r&&ac(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ur&&ns(Ur,r)||(Ur=r,r=Io(iu,"onSelect"),0<r.length&&(t=new rc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bi)))}function Xs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oi={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionend:Xs("Transition","TransitionEnd")},ml={},$p={};rn&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function na(e){if(ml[e])return ml[e];if(!Oi[e])return e;var t=Oi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $p)return ml[e]=t[n];return e}var Up=na("animationend"),Fp=na("animationiteration"),Zp=na("animationstart"),Hp=na("transitionend"),Wp=new Map,bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){Wp.set(e,t),ai(t,[e])}for(var gl=0;gl<bd.length;gl++){var _l=bd[gl],n0=_l.toLowerCase(),i0=_l[0].toUpperCase()+_l.slice(1);Rn(n0,"on"+i0)}Rn(Up,"onAnimationEnd");Rn(Fp,"onAnimationIteration");Rn(Zp,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(Hp,"onTransitionEnd");Wi("onMouseEnter",["mouseout","mouseover"]);Wi("onMouseLeave",["mouseout","mouseover"]);Wi("onPointerEnter",["pointerout","pointerover"]);Wi("onPointerLeave",["pointerout","pointerover"]);ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Od(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ny(r,t,void 0,e),e.currentTarget=null}function Vp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var h=r[u],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==a&&o.isPropagationStopped())break e;Od(o,h,p),a=d}else for(u=0;u<r.length;u++){if(h=r[u],d=h.instance,p=h.currentTarget,h=h.listener,d!==a&&o.isPropagationStopped())break e;Od(o,h,p),a=d}}}if(Lo)throw e=Xl,Lo=!1,Xl=null,e}function pe(e,t){var n=t[uu];n===void 0&&(n=t[uu]=new Set);var r=e+"__bubble";n.has(r)||(Gp(t,e,2,!1),n.add(r))}function vl(e,t,n){var r=0;t&&(r|=4),Gp(n,e,r,t)}var eo="_reactListening"+Math.random().toString(36).slice(2);function is(e){if(!e[eo]){e[eo]=!0,ep.forEach(function(n){n!=="selectionchange"&&(r0.has(n)||vl(n,!1,e),vl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eo]||(t[eo]=!0,vl("selectionchange",!1,t))}}function Gp(e,t,n,r){switch(Op(t)){case 1:var o=vy;break;case 4:o=yy;break;default:o=nc}n=o.bind(null,t,n,e),o=void 0,!Yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function yl(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;u=u.return}for(;h!==null;){if(u=Jn(h),u===null)return;if(d=u.tag,d===5||d===6){r=a=u;continue e}h=h.parentNode}}r=r.return}gp(function(){var p=a,m=Yu(n),_=[];e:{var v=Wp.get(e);if(v!==void 0){var P=rc,T=e;switch(e){case"keypress":if(_o(n)===0)break e;case"keydown":case"keyup":P=My;break;case"focusin":T="focus",P=dl;break;case"focusout":T="blur",P=dl;break;case"beforeblur":case"afterblur":P=dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=ky;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=zy;break;case Up:case Fp:case Zp:P=Ey;break;case Hp:P=By;break;case"scroll":P=wy;break;case"wheel":P=Uy;break;case"copy":case"cut":case"paste":P=Ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=wd}var E=(t&4)!==0,j=!E&&e==="scroll",x=E?v!==null?v+"Capture":null:v;E=[];for(var y=p,S;y!==null;){S=y;var b=S.stateNode;if(S.tag===5&&b!==null&&(S=b,x!==null&&(b=Qr(y,x),b!=null&&E.push(rs(y,b,S)))),j)break;y=y.return}0<E.length&&(v=new P(v,T,null,n,m),_.push({event:v,listeners:E}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",v&&n!==Jl&&(T=n.relatedTarget||n.fromElement)&&(Jn(T)||T[sn]))break e;if((P||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,P?(T=n.relatedTarget||n.toElement,P=p,T=T?Jn(T):null,T!==null&&(j=li(T),T!==j||T.tag!==5&&T.tag!==6)&&(T=null)):(P=null,T=p),P!==T)){if(E=vd,b="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(E=wd,b="onPointerLeave",x="onPointerEnter",y="pointer"),j=P==null?v:Ni(P),S=T==null?v:Ni(T),v=new E(b,y+"leave",P,n,m),v.target=j,v.relatedTarget=S,b=null,Jn(m)===p&&(E=new E(x,y+"enter",T,n,m),E.target=S,E.relatedTarget=j,b=E),j=b,P&&T)t:{for(E=P,x=T,y=0,S=E;S;S=ki(S))y++;for(S=0,b=x;b;b=ki(b))S++;for(;0<y-S;)E=ki(E),y--;for(;0<S-y;)x=ki(x),S--;for(;y--;){if(E===x||x!==null&&E===x.alternate)break t;E=ki(E),x=ki(x)}E=null}else E=null;P!==null&&Nd(_,v,P,E,!1),T!==null&&j!==null&&Nd(_,j,T,E,!0)}}e:{if(v=p?Ni(p):window,P=v.nodeName&&v.nodeName.toLowerCase(),P==="select"||P==="input"&&v.type==="file")var A=qy;else if(Sd(v))if(Rp)A=Yy;else{A=Jy;var D=Ky}else(P=v.nodeName)&&P.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(A=Qy);if(A&&(A=A(e,p))){Ap(_,A,n,m);break e}D&&D(e,v,p),e==="focusout"&&(D=v._wrapperState)&&D.controlled&&v.type==="number"&&Wl(v,"number",v.value)}switch(D=p?Ni(p):window,e){case"focusin":(Sd(D)||D.contentEditable==="true")&&(bi=D,iu=p,Ur=null);break;case"focusout":Ur=iu=bi=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,Td(_,n,m);break;case"selectionchange":if(t0)break;case"keydown":case"keyup":Td(_,n,m)}var $;if(oc)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Ti?jp(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Ip&&n.locale!=="ko"&&(Ti||F!=="onCompositionStart"?F==="onCompositionEnd"&&Ti&&($=Np()):(kn=m,ic="value"in kn?kn.value:kn.textContent,Ti=!0)),D=Io(p,F),0<D.length&&(F=new yd(F,e,null,n,m),_.push({event:F,listeners:D}),$?F.data=$:($=Mp(n),$!==null&&(F.data=$)))),($=Zy?Hy(e,n):Wy(e,n))&&(p=Io(p,"onBeforeInput"),0<p.length&&(m=new yd("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:p}),m.data=$))}Vp(_,t)})}function rs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Io(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Qr(e,n),a!=null&&r.unshift(rs(e,a,o)),a=Qr(e,t),a!=null&&r.push(rs(e,a,o))),e=e.return}return r}function ki(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nd(e,t,n,r,o){for(var a=t._reactName,u=[];n!==null&&n!==r;){var h=n,d=h.alternate,p=h.stateNode;if(d!==null&&d===r)break;h.tag===5&&p!==null&&(h=p,o?(d=Qr(n,a),d!=null&&u.unshift(rs(n,d,h))):o||(d=Qr(n,a),d!=null&&u.push(rs(n,d,h)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var s0=/\r\n?/g,o0=/\u0000|\uFFFD/g;function Id(e){return(typeof e=="string"?e:""+e).replace(s0,`
`).replace(o0,"")}function to(e,t,n){if(t=Id(t),Id(e)!==t&&n)throw Error(R(425))}function jo(){}var su=null,ou=null;function au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lu=typeof setTimeout=="function"?setTimeout:void 0,a0=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,l0=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(e){return jd.resolve(null).then(e).catch(u0)}:lu;function u0(e){setTimeout(function(){throw e})}function wl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),es(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);es(t)}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Md(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ir=Math.random().toString(36).slice(2),Ht="__reactFiber$"+ir,ss="__reactProps$"+ir,sn="__reactContainer$"+ir,uu="__reactEvents$"+ir,c0="__reactListeners$"+ir,h0="__reactHandles$"+ir;function Jn(e){var t=e[Ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Md(e);e!==null;){if(n=e[Ht])return n;e=Md(e)}return t}e=n,n=e.parentNode}return null}function ys(e){return e=e[Ht]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function ia(e){return e[ss]||null}var cu=[],Ii=-1;function zn(e){return{current:e}}function me(e){0>Ii||(e.current=cu[Ii],cu[Ii]=null,Ii--)}function fe(e,t){Ii++,cu[Ii]=e.current,e.current=t}var An={},Ve=zn(An),st=zn(!1),ni=An;function Vi(e,t){var n=e.type.contextTypes;if(!n)return An;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ot(e){return e=e.childContextTypes,e!=null}function Mo(){me(st),me(Ve)}function Ad(e,t,n){if(Ve.current!==An)throw Error(R(168));fe(Ve,t),fe(st,n)}function qp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(R(108,Kv(e)||"Unknown",o));return xe({},n,r)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,ni=Ve.current,fe(Ve,e),fe(st,st.current),!0}function Rd(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=qp(e,t,ni),r.__reactInternalMemoizedMergedChildContext=e,me(st),me(Ve),fe(Ve,e)):me(st),fe(st,n)}var Xt=null,ra=!1,xl=!1;function Kp(e){Xt===null?Xt=[e]:Xt.push(e)}function d0(e){ra=!0,Kp(e)}function Dn(){if(!xl&&Xt!==null){xl=!0;var e=0,t=le;try{var n=Xt;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xt=null,ra=!1}catch(o){throw Xt!==null&&(Xt=Xt.slice(e+1)),wp(Xu,Dn),o}finally{le=t,xl=!1}}return null}var ji=[],Mi=0,Ro=null,zo=0,xt=[],kt=0,ii=null,en=1,tn="";function Vn(e,t){ji[Mi++]=zo,ji[Mi++]=Ro,Ro=e,zo=t}function Jp(e,t,n){xt[kt++]=en,xt[kt++]=tn,xt[kt++]=ii,ii=e;var r=en;e=tn;var o=32-Mt(r)-1;r&=~(1<<o),n+=1;var a=32-Mt(t)+o;if(30<a){var u=o-o%5;a=(r&(1<<u)-1).toString(32),r>>=u,o-=u,en=1<<32-Mt(t)+o|n<<o|r,tn=a+e}else en=1<<a|n<<o|r,tn=e}function lc(e){e.return!==null&&(Vn(e,1),Jp(e,1,0))}function uc(e){for(;e===Ro;)Ro=ji[--Mi],ji[Mi]=null,zo=ji[--Mi],ji[Mi]=null;for(;e===ii;)ii=xt[--kt],xt[kt]=null,tn=xt[--kt],xt[kt]=null,en=xt[--kt],xt[kt]=null}var ht=null,ct=null,_e=!1,jt=null;function Qp(e,t){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,ct=Tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ii!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ht=e,ct=null,!0):!1;default:return!1}}function hu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function du(e){if(_e){var t=ct;if(t){var n=t;if(!zd(e,t)){if(hu(e))throw Error(R(418));t=Tn(n.nextSibling);var r=ht;t&&zd(e,t)?Qp(r,n):(e.flags=e.flags&-4097|2,_e=!1,ht=e)}}else{if(hu(e))throw Error(R(418));e.flags=e.flags&-4097|2,_e=!1,ht=e}}}function Dd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function no(e){if(e!==ht)return!1;if(!_e)return Dd(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!au(e.type,e.memoizedProps)),t&&(t=ct)){if(hu(e))throw Yp(),Error(R(418));for(;t;)Qp(e,t),t=Tn(t.nextSibling)}if(Dd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ct=Tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=ht?Tn(e.stateNode.nextSibling):null;return!0}function Yp(){for(var e=ct;e;)e=Tn(e.nextSibling)}function Gi(){ct=ht=null,_e=!1}function cc(e){jt===null?jt=[e]:jt.push(e)}var f0=ln.ReactCurrentBatchConfig;function Cr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function io(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bd(e){var t=e._init;return t(e._payload)}function Xp(e){function t(x,y){if(e){var S=x.deletions;S===null?(x.deletions=[y],x.flags|=16):S.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function o(x,y){return x=In(x,y),x.index=0,x.sibling=null,x}function a(x,y,S){return x.index=S,e?(S=x.alternate,S!==null?(S=S.index,S<y?(x.flags|=2,y):S):(x.flags|=2,y)):(x.flags|=1048576,y)}function u(x){return e&&x.alternate===null&&(x.flags|=2),x}function h(x,y,S,b){return y===null||y.tag!==6?(y=Tl(S,x.mode,b),y.return=x,y):(y=o(y,S),y.return=x,y)}function d(x,y,S,b){var A=S.type;return A===Li?m(x,y,S.props.children,b,S.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===gn&&Bd(A)===y.type)?(b=o(y,S.props),b.ref=Cr(x,y,S),b.return=x,b):(b=Po(S.type,S.key,S.props,null,x.mode,b),b.ref=Cr(x,y,S),b.return=x,b)}function p(x,y,S,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=bl(S,x.mode,b),y.return=x,y):(y=o(y,S.children||[]),y.return=x,y)}function m(x,y,S,b,A){return y===null||y.tag!==7?(y=ei(S,x.mode,b,A),y.return=x,y):(y=o(y,S),y.return=x,y)}function _(x,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Tl(""+y,x.mode,S),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vs:return S=Po(y.type,y.key,y.props,null,x.mode,S),S.ref=Cr(x,null,y),S.return=x,S;case Ci:return y=bl(y,x.mode,S),y.return=x,y;case gn:var b=y._init;return _(x,b(y._payload),S)}if(jr(y)||xr(y))return y=ei(y,x.mode,S,null),y.return=x,y;io(x,y)}return null}function v(x,y,S,b){var A=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:h(x,y,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vs:return S.key===A?d(x,y,S,b):null;case Ci:return S.key===A?p(x,y,S,b):null;case gn:return A=S._init,v(x,y,A(S._payload),b)}if(jr(S)||xr(S))return A!==null?null:m(x,y,S,b,null);io(x,S)}return null}function P(x,y,S,b,A){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(S)||null,h(y,x,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vs:return x=x.get(b.key===null?S:b.key)||null,d(y,x,b,A);case Ci:return x=x.get(b.key===null?S:b.key)||null,p(y,x,b,A);case gn:var D=b._init;return P(x,y,S,D(b._payload),A)}if(jr(b)||xr(b))return x=x.get(S)||null,m(y,x,b,A,null);io(y,b)}return null}function T(x,y,S,b){for(var A=null,D=null,$=y,F=y=0,ce=null;$!==null&&F<S.length;F++){$.index>F?(ce=$,$=null):ce=$.sibling;var K=v(x,$,S[F],b);if(K===null){$===null&&($=ce);break}e&&$&&K.alternate===null&&t(x,$),y=a(K,y,F),D===null?A=K:D.sibling=K,D=K,$=ce}if(F===S.length)return n(x,$),_e&&Vn(x,F),A;if($===null){for(;F<S.length;F++)$=_(x,S[F],b),$!==null&&(y=a($,y,F),D===null?A=$:D.sibling=$,D=$);return _e&&Vn(x,F),A}for($=r(x,$);F<S.length;F++)ce=P($,x,F,S[F],b),ce!==null&&(e&&ce.alternate!==null&&$.delete(ce.key===null?F:ce.key),y=a(ce,y,F),D===null?A=ce:D.sibling=ce,D=ce);return e&&$.forEach(function(ue){return t(x,ue)}),_e&&Vn(x,F),A}function E(x,y,S,b){var A=xr(S);if(typeof A!="function")throw Error(R(150));if(S=A.call(S),S==null)throw Error(R(151));for(var D=A=null,$=y,F=y=0,ce=null,K=S.next();$!==null&&!K.done;F++,K=S.next()){$.index>F?(ce=$,$=null):ce=$.sibling;var ue=v(x,$,K.value,b);if(ue===null){$===null&&($=ce);break}e&&$&&ue.alternate===null&&t(x,$),y=a(ue,y,F),D===null?A=ue:D.sibling=ue,D=ue,$=ce}if(K.done)return n(x,$),_e&&Vn(x,F),A;if($===null){for(;!K.done;F++,K=S.next())K=_(x,K.value,b),K!==null&&(y=a(K,y,F),D===null?A=K:D.sibling=K,D=K);return _e&&Vn(x,F),A}for($=r(x,$);!K.done;F++,K=S.next())K=P($,x,F,K.value,b),K!==null&&(e&&K.alternate!==null&&$.delete(K.key===null?F:K.key),y=a(K,y,F),D===null?A=K:D.sibling=K,D=K);return e&&$.forEach(function(Ee){return t(x,Ee)}),_e&&Vn(x,F),A}function j(x,y,S,b){if(typeof S=="object"&&S!==null&&S.type===Li&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Vs:e:{for(var A=S.key,D=y;D!==null;){if(D.key===A){if(A=S.type,A===Li){if(D.tag===7){n(x,D.sibling),y=o(D,S.props.children),y.return=x,x=y;break e}}else if(D.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===gn&&Bd(A)===D.type){n(x,D.sibling),y=o(D,S.props),y.ref=Cr(x,D,S),y.return=x,x=y;break e}n(x,D);break}else t(x,D);D=D.sibling}S.type===Li?(y=ei(S.props.children,x.mode,b,S.key),y.return=x,x=y):(b=Po(S.type,S.key,S.props,null,x.mode,b),b.ref=Cr(x,y,S),b.return=x,x=b)}return u(x);case Ci:e:{for(D=S.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(x,y.sibling),y=o(y,S.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=bl(S,x.mode,b),y.return=x,x=y}return u(x);case gn:return D=S._init,j(x,y,D(S._payload),b)}if(jr(S))return T(x,y,S,b);if(xr(S))return E(x,y,S,b);io(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(x,y.sibling),y=o(y,S),y.return=x,x=y):(n(x,y),y=Tl(S,x.mode,b),y.return=x,x=y),u(x)):n(x,y)}return j}var qi=Xp(!0),em=Xp(!1),Do=zn(null),Bo=null,Ai=null,hc=null;function dc(){hc=Ai=Bo=null}function fc(e){var t=Do.current;me(Do),e._currentValue=t}function fu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fi(e,t){Bo=e,hc=Ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(hc!==e)if(e={context:e,memoizedValue:t,next:null},Ai===null){if(Bo===null)throw Error(R(308));Ai=e,Bo.dependencies={lanes:0,firstContext:e}}else Ai=Ai.next=e;return t}var Qn=null;function pc(e){Qn===null?Qn=[e]:Qn.push(e)}function tm(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,pc(t)):(n.next=o.next,o.next=n),t.interleaved=n,on(e,r)}function on(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _n=!1;function mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,on(e,n)}return o=r.interleaved,o===null?(t.next=t,pc(r)):(t.next=o.next,o.next=t),r.interleaved=t,on(e,n)}function vo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ec(e,n)}}function $d(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $o(e,t,n,r){var o=e.updateQueue;_n=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var d=h,p=d.next;d.next=null,u===null?a=p:u.next=p,u=d;var m=e.alternate;m!==null&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==u&&(h===null?m.firstBaseUpdate=p:h.next=p,m.lastBaseUpdate=d))}if(a!==null){var _=o.baseState;u=0,m=p=d=null,h=a;do{var v=h.lane,P=h.eventTime;if((r&v)===v){m!==null&&(m=m.next={eventTime:P,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var T=e,E=h;switch(v=t,P=n,E.tag){case 1:if(T=E.payload,typeof T=="function"){_=T.call(P,_,v);break e}_=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=E.payload,v=typeof T=="function"?T.call(P,_,v):T,v==null)break e;_=xe({},_,v);break e;case 2:_n=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,v=o.effects,v===null?o.effects=[h]:v.push(h))}else P={eventTime:P,lane:v,tag:h.tag,payload:h.payload,callback:h.callback,next:null},m===null?(p=m=P,d=_):m=m.next=P,u|=v;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;v=h,h=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(!0);if(m===null&&(d=_),o.baseState=d,o.firstBaseUpdate=p,o.lastBaseUpdate=m,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);si|=u,e.lanes=u,e.memoizedState=_}}function Ud(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(R(191,o));o.call(r)}}}var ws={},Vt=zn(ws),os=zn(ws),as=zn(ws);function Yn(e){if(e===ws)throw Error(R(174));return e}function gc(e,t){switch(fe(as,t),fe(os,e),fe(Vt,ws),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gl(t,e)}me(Vt),fe(Vt,t)}function Ki(){me(Vt),me(os),me(as)}function im(e){Yn(as.current);var t=Yn(Vt.current),n=Gl(t,e.type);t!==n&&(fe(os,e),fe(Vt,n))}function _c(e){os.current===e&&(me(Vt),me(os))}var ye=zn(0);function Uo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kl=[];function vc(){for(var e=0;e<kl.length;e++)kl[e]._workInProgressVersionPrimary=null;kl.length=0}var yo=ln.ReactCurrentDispatcher,Sl=ln.ReactCurrentBatchConfig,ri=0,we=null,je=null,ze=null,Fo=!1,Fr=!1,ls=0,p0=0;function Ze(){throw Error(R(321))}function yc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rt(e[n],t[n]))return!1;return!0}function wc(e,t,n,r,o,a){if(ri=a,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yo.current=e===null||e.memoizedState===null?v0:y0,e=n(r,o),Fr){a=0;do{if(Fr=!1,ls=0,25<=a)throw Error(R(301));a+=1,ze=je=null,t.updateQueue=null,yo.current=w0,e=n(r,o)}while(Fr)}if(yo.current=Zo,t=je!==null&&je.next!==null,ri=0,ze=je=we=null,Fo=!1,t)throw Error(R(300));return e}function xc(){var e=ls!==0;return ls=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?we.memoizedState=ze=e:ze=ze.next=e,ze}function Ct(){if(je===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=ze===null?we.memoizedState:ze.next;if(t!==null)ze=t,je=e;else{if(e===null)throw Error(R(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},ze===null?we.memoizedState=ze=e:ze=ze.next=e}return ze}function us(e,t){return typeof t=="function"?t(e):t}function Pl(e){var t=Ct(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=je,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var h=u=null,d=null,p=a;do{var m=p.lane;if((ri&m)===m)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var _={lane:m,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=_,u=r):d=d.next=_,we.lanes|=m,si|=m}p=p.next}while(p!==null&&p!==a);d===null?u=r:d.next=h,Rt(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,we.lanes|=a,si|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function El(e){var t=Ct(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=e(a,u.action),u=u.next;while(u!==o);Rt(a,t.memoizedState)||(rt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function rm(){}function sm(e,t){var n=we,r=Ct(),o=t(),a=!Rt(r.memoizedState,o);if(a&&(r.memoizedState=o,rt=!0),r=r.queue,kc(lm.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,cs(9,am.bind(null,n,r,o,t),void 0,null),De===null)throw Error(R(349));ri&30||om(n,t,o)}return o}function om(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function am(e,t,n,r){t.value=n,t.getSnapshot=r,um(t)&&cm(e)}function lm(e,t,n){return n(function(){um(t)&&cm(e)})}function um(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch{return!0}}function cm(e){var t=on(e,1);t!==null&&At(t,e,1,-1)}function Fd(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:e},t.queue=e,e=e.dispatch=_0.bind(null,we,e),[t.memoizedState,e]}function cs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hm(){return Ct().memoizedState}function wo(e,t,n,r){var o=Zt();we.flags|=e,o.memoizedState=cs(1|t,n,void 0,r===void 0?null:r)}function sa(e,t,n,r){var o=Ct();r=r===void 0?null:r;var a=void 0;if(je!==null){var u=je.memoizedState;if(a=u.destroy,r!==null&&yc(r,u.deps)){o.memoizedState=cs(t,n,a,r);return}}we.flags|=e,o.memoizedState=cs(1|t,n,a,r)}function Zd(e,t){return wo(8390656,8,e,t)}function kc(e,t){return sa(2048,8,e,t)}function dm(e,t){return sa(4,2,e,t)}function fm(e,t){return sa(4,4,e,t)}function pm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mm(e,t,n){return n=n!=null?n.concat([e]):null,sa(4,4,pm.bind(null,t,e),n)}function Sc(){}function gm(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _m(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vm(e,t,n){return ri&21?(Rt(n,t)||(n=Sp(),we.lanes|=n,si|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function m0(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=Sl.transition;Sl.transition={};try{e(!1),t()}finally{le=n,Sl.transition=r}}function ym(){return Ct().memoizedState}function g0(e,t,n){var r=Nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wm(e))xm(t,n);else if(n=tm(e,t,n,r),n!==null){var o=Ke();At(n,e,r,o),km(n,t,r)}}function _0(e,t,n){var r=Nn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wm(e))xm(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,h=a(u,n);if(o.hasEagerState=!0,o.eagerState=h,Rt(h,u)){var d=t.interleaved;d===null?(o.next=o,pc(t)):(o.next=d.next,d.next=o),t.interleaved=o;return}}catch{}finally{}n=tm(e,t,o,r),n!==null&&(o=Ke(),At(n,e,r,o),km(n,t,r))}}function wm(e){var t=e.alternate;return e===we||t!==null&&t===we}function xm(e,t){Fr=Fo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function km(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ec(e,n)}}var Zo={readContext:Et,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},v0={readContext:Et,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:Zd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wo(4194308,4,pm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=Zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=g0.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:Fd,useDebugValue:Sc,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=Fd(!1),t=e[0];return e=m0.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,o=Zt();if(_e){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),De===null)throw Error(R(349));ri&30||om(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Zd(lm.bind(null,r,a,e),[e]),r.flags|=2048,cs(9,am.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Zt(),t=De.identifierPrefix;if(_e){var n=tn,r=en;n=(r&~(1<<32-Mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ls++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=p0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},y0={readContext:Et,useCallback:gm,useContext:Et,useEffect:kc,useImperativeHandle:mm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:_m,useReducer:Pl,useRef:hm,useState:function(){return Pl(us)},useDebugValue:Sc,useDeferredValue:function(e){var t=Ct();return vm(t,je.memoizedState,e)},useTransition:function(){var e=Pl(us)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:rm,useSyncExternalStore:sm,useId:ym,unstable_isNewReconciler:!1},w0={readContext:Et,useCallback:gm,useContext:Et,useEffect:kc,useImperativeHandle:mm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:_m,useReducer:El,useRef:hm,useState:function(){return El(us)},useDebugValue:Sc,useDeferredValue:function(e){var t=Ct();return je===null?t.memoizedState=e:vm(t,je.memoizedState,e)},useTransition:function(){var e=El(us)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:rm,useSyncExternalStore:sm,useId:ym,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return(e=e._reactInternals)?li(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ke(),o=Nn(e),a=nn(r,o);a.payload=t,n!=null&&(a.callback=n),t=bn(e,a,o),t!==null&&(At(t,e,o,r),vo(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ke(),o=Nn(e),a=nn(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=bn(e,a,o),t!==null&&(At(t,e,o,r),vo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ke(),r=Nn(e),o=nn(n,r);o.tag=2,t!=null&&(o.callback=t),t=bn(e,o,r),t!==null&&(At(t,e,r,n),vo(t,e,r))}};function Hd(e,t,n,r,o,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,u):t.prototype&&t.prototype.isPureReactComponent?!ns(n,r)||!ns(o,a):!0}function Sm(e,t,n){var r=!1,o=An,a=t.contextType;return typeof a=="object"&&a!==null?a=Et(a):(o=ot(t)?ni:Ve.current,r=t.contextTypes,a=(r=r!=null)?Vi(e,o):An),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function mu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},mc(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=Et(a):(a=ot(t)?ni:Ve.current,o.context=Vi(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(pu(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),$o(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,t){try{var n="",r=t;do n+=qv(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Cl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var x0=typeof WeakMap=="function"?WeakMap:Map;function Pm(e,t,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wo||(Wo=!0,Cu=r),gu(e,t)},n}function Em(e,t,n){n=nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){gu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){gu(e,t),typeof r!="function"&&(On===null?On=new Set([this]):On.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Vd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new x0;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=A0.bind(null,e,t,n),t.then(e,e))}function Gd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nn(-1,1),t.tag=2,bn(n,t,1))),n.lanes|=1),e)}var k0=ln.ReactCurrentOwner,rt=!1;function qe(e,t,n,r){t.child=e===null?em(t,null,n,r):qi(t,e.child,n,r)}function Kd(e,t,n,r,o){n=n.render;var a=t.ref;return Fi(t,o),r=wc(e,t,n,r,a,o),n=xc(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,an(e,t,o)):(_e&&n&&lc(t),t.flags|=1,qe(e,t,r,o),t.child)}function Jd(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!Nc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Cm(e,t,a,r,o)):(e=Po(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:ns,n(u,r)&&e.ref===t.ref)return an(e,t,o)}return t.flags|=1,e=In(a,r),e.ref=t.ref,e.return=t,t.child=e}function Cm(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(ns(a,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,an(e,t,o)}return _u(e,t,n,r,o)}function Lm(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(zi,ut),ut|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(zi,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,fe(zi,ut),ut|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,fe(zi,ut),ut|=r;return qe(e,t,o,n),t.child}function Tm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _u(e,t,n,r,o){var a=ot(n)?ni:Ve.current;return a=Vi(t,a),Fi(t,o),n=wc(e,t,n,r,a,o),r=xc(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,an(e,t,o)):(_e&&r&&lc(t),t.flags|=1,qe(e,t,n,o),t.child)}function Qd(e,t,n,r,o){if(ot(n)){var a=!0;Ao(t)}else a=!1;if(Fi(t,o),t.stateNode===null)xo(e,t),Sm(t,n,r),mu(t,n,r,o),r=!0;else if(e===null){var u=t.stateNode,h=t.memoizedProps;u.props=h;var d=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=Et(p):(p=ot(n)?ni:Ve.current,p=Vi(t,p));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof u.getSnapshotBeforeUpdate=="function";_||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||d!==p)&&Wd(t,u,r,p),_n=!1;var v=t.memoizedState;u.state=v,$o(t,r,u,o),d=t.memoizedState,h!==r||v!==d||st.current||_n?(typeof m=="function"&&(pu(t,n,m,r),d=t.memoizedState),(h=_n||Hd(t,n,h,r,v,d,p))?(_||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),u.props=r,u.state=d,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,nm(e,t),h=t.memoizedProps,p=t.type===t.elementType?h:Ot(t.type,h),u.props=p,_=t.pendingProps,v=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=Et(d):(d=ot(n)?ni:Ve.current,d=Vi(t,d));var P=n.getDerivedStateFromProps;(m=typeof P=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==_||v!==d)&&Wd(t,u,r,d),_n=!1,v=t.memoizedState,u.state=v,$o(t,r,u,o);var T=t.memoizedState;h!==_||v!==T||st.current||_n?(typeof P=="function"&&(pu(t,n,P,r),T=t.memoizedState),(p=_n||Hd(t,n,p,r,v,T,d)||!1)?(m||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,T,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,T,d)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=T),u.props=r,u.state=T,u.context=d,r=p):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return vu(e,t,n,r,a,o)}function vu(e,t,n,r,o,a){Tm(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return o&&Rd(t,n,!1),an(e,t,a);r=t.stateNode,k0.current=t;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=qi(t,e.child,null,a),t.child=qi(t,null,h,a)):qe(e,t,h,a),t.memoizedState=r.state,o&&Rd(t,n,!0),t.child}function bm(e){var t=e.stateNode;t.pendingContext?Ad(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ad(e,t.context,!1),gc(e,t.containerInfo)}function Yd(e,t,n,r,o){return Gi(),cc(o),t.flags|=256,qe(e,t,n,r),t.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Om(e,t,n){var r=t.pendingProps,o=ye.current,a=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(o&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),fe(ye,o&1),e===null)return du(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,a?(r=t.mode,a=t.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=ua(u,r,0,null),e=ei(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=wu(n),t.memoizedState=yu,e):Pc(t,u));if(o=e.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return S0(e,t,u,r,h,o,n);if(a){a=r.fallback,u=t.mode,o=e.child,h=o.sibling;var d={mode:"hidden",children:r.children};return!(u&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=In(o,d),r.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=In(h,a):(a=ei(a,u,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,u=e.child.memoizedState,u=u===null?wu(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=yu,r}return a=e.child,e=a.sibling,r=In(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pc(e,t){return t=ua({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ro(e,t,n,r){return r!==null&&cc(r),qi(t,e.child,null,n),e=Pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function S0(e,t,n,r,o,a,u){if(n)return t.flags&256?(t.flags&=-257,r=Cl(Error(R(422))),ro(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=ua({mode:"visible",children:r.children},o,0,null),a=ei(a,o,u,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&qi(t,e.child,null,u),t.child.memoizedState=wu(u),t.memoizedState=yu,a);if(!(t.mode&1))return ro(e,t,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(R(419)),r=Cl(a,r,void 0),ro(e,t,u,r)}if(h=(u&e.childLanes)!==0,rt||h){if(r=De,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,on(e,o),At(r,e,o,-1))}return Oc(),r=Cl(Error(R(421))),ro(e,t,u,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=R0.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,ct=Tn(o.nextSibling),ht=t,_e=!0,jt=null,e!==null&&(xt[kt++]=en,xt[kt++]=tn,xt[kt++]=ii,en=e.id,tn=e.overflow,ii=t),t=Pc(t,r.children),t.flags|=4096,t)}function Xd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fu(e.return,t,n)}function Ll(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Nm(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(qe(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xd(e,n,t);else if(e.tag===19)Xd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fe(ye,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Uo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ll(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Uo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ll(t,!0,n,null,a);break;case"together":Ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),si|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=In(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=In(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function P0(e,t,n){switch(t.tag){case 3:bm(t),Gi();break;case 5:im(t);break;case 1:ot(t.type)&&Ao(t);break;case 4:gc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;fe(Do,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(fe(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?Om(e,t,n):(fe(ye,ye.current&1),e=an(e,t,n),e!==null?e.sibling:null);fe(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Nm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),fe(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Lm(e,t,n)}return an(e,t,n)}var Im,xu,jm,Mm;Im=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xu=function(){};jm=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yn(Vt.current);var a=null;switch(n){case"input":o=Zl(e,o),r=Zl(e,r),a=[];break;case"select":o=xe({},o,{value:void 0}),r=xe({},r,{value:void 0}),a=[];break;case"textarea":o=Vl(e,o),r=Vl(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=jo)}ql(n,r);var u;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var h=o[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Kr.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var d=r[p];if(h=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Kr.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&pe("scroll",e),a||h===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};Mm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Lr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function E0(e,t,n){var r=t.pendingProps;switch(uc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return ot(t.type)&&Mo(),He(t),null;case 3:return r=t.stateNode,Ki(),me(st),me(Ve),vc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(no(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(bu(jt),jt=null))),xu(e,t),He(t),null;case 5:_c(t);var o=Yn(as.current);if(n=t.type,e!==null&&t.stateNode!=null)jm(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return He(t),null}if(e=Yn(Vt.current),no(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ht]=t,r[ss]=a,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(o=0;o<Ar.length;o++)pe(Ar[o],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":ld(r,a),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},pe("invalid",r);break;case"textarea":cd(r,a),pe("invalid",r)}ql(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&to(r.textContent,h,e),o=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&to(r.textContent,h,e),o=["children",""+h]):Kr.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&pe("scroll",r)}switch(n){case"input":Gs(r),ud(r,a,!0);break;case"textarea":Gs(r),hd(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=jo)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Ht]=t,e[ss]=r,Im(e,t,!1,!1),t.stateNode=e;e:{switch(u=Kl(n,r),n){case"dialog":pe("cancel",e),pe("close",e),o=r;break;case"iframe":case"object":case"embed":pe("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ar.length;o++)pe(Ar[o],e);o=r;break;case"source":pe("error",e),o=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),o=r;break;case"details":pe("toggle",e),o=r;break;case"input":ld(e,r),o=Zl(e,r),pe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=xe({},r,{value:void 0}),pe("invalid",e);break;case"textarea":cd(e,r),o=Vl(e,r),pe("invalid",e);break;default:o=r}ql(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?hp(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&up(e,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Jr(e,d):typeof d=="number"&&Jr(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Kr.hasOwnProperty(a)?d!=null&&a==="onScroll"&&pe("scroll",e):d!=null&&qu(e,a,d,u))}switch(n){case"input":Gs(e),ud(e,r,!1);break;case"textarea":Gs(e),hd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Di(e,!!r.multiple,a,!1):r.defaultValue!=null&&Di(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=jo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)Mm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Yn(as.current),Yn(Vt.current),no(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ht]=t,(a=r.nodeValue!==n)&&(e=ht,e!==null))switch(e.tag){case 3:to(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&to(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=t,t.stateNode=r}return He(t),null;case 13:if(me(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&ct!==null&&t.mode&1&&!(t.flags&128))Yp(),Gi(),t.flags|=98560,a=!1;else if(a=no(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(R(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(R(317));a[Ht]=t}else Gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),a=!1}else jt!==null&&(bu(jt),jt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Me===0&&(Me=3):Oc())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Ki(),xu(e,t),e===null&&is(t.stateNode.containerInfo),He(t),null;case 10:return fc(t.type._context),He(t),null;case 17:return ot(t.type)&&Mo(),He(t),null;case 19:if(me(ye),a=t.memoizedState,a===null)return He(t),null;if(r=(t.flags&128)!==0,u=a.rendering,u===null)if(r)Lr(a,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Uo(e),u!==null){for(t.flags|=128,Lr(a,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fe(ye,ye.current&1|2),t.child}e=e.sibling}a.tail!==null&&Te()>Qi&&(t.flags|=128,r=!0,Lr(a,!1),t.lanes=4194304)}else{if(!r)if(e=Uo(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Lr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!_e)return He(t),null}else 2*Te()-a.renderingStartTime>Qi&&n!==1073741824&&(t.flags|=128,r=!0,Lr(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Te(),t.sibling=null,n=ye.current,fe(ye,r?n&1|2:n&1),t):(He(t),null);case 22:case 23:return bc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ut&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function C0(e,t){switch(uc(t),t.tag){case 1:return ot(t.type)&&Mo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ki(),me(st),me(Ve),vc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _c(t),null;case 13:if(me(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ye),null;case 4:return Ki(),null;case 10:return fc(t.type._context),null;case 22:case 23:return bc(),null;case 24:return null;default:return null}}var so=!1,We=!1,L0=typeof WeakSet=="function"?WeakSet:Set,U=null;function Ri(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(e,t,r)}else n.current=null}function ku(e,t,n){try{n()}catch(r){Pe(e,t,r)}}var ef=!1;function T0(e,t){if(su=Oo,e=Bp(),ac(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,d=-1,p=0,m=0,_=e,v=null;t:for(;;){for(var P;_!==n||o!==0&&_.nodeType!==3||(h=u+o),_!==a||r!==0&&_.nodeType!==3||(d=u+r),_.nodeType===3&&(u+=_.nodeValue.length),(P=_.firstChild)!==null;)v=_,_=P;for(;;){if(_===e)break t;if(v===n&&++p===o&&(h=u),v===a&&++m===r&&(d=u),(P=_.nextSibling)!==null)break;_=v,v=_.parentNode}_=P}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(ou={focusedElem:e,selectionRange:n},Oo=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var E=T.memoizedProps,j=T.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?E:Ot(t.type,E),j);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){Pe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return T=ef,ef=!1,T}function Zr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&ku(t,n,a)}o=o.next}while(o!==r)}}function aa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Su(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Am(e){var t=e.alternate;t!==null&&(e.alternate=null,Am(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[ss],delete t[uu],delete t[c0],delete t[h0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rm(e){return e.tag===5||e.tag===3||e.tag===4}function tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jo));else if(r!==4&&(e=e.child,e!==null))for(Pu(e,t,n),e=e.sibling;e!==null;)Pu(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Eu(e,t,n),e=e.sibling;e!==null;)Eu(e,t,n),e=e.sibling}var $e=null,Nt=!1;function dn(e,t,n){for(n=n.child;n!==null;)zm(e,t,n),n=n.sibling}function zm(e,t,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Xo,n)}catch{}switch(n.tag){case 5:We||Ri(n,t);case 6:var r=$e,o=Nt;$e=null,dn(e,t,n),$e=r,Nt=o,$e!==null&&(Nt?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Nt?(e=$e,n=n.stateNode,e.nodeType===8?wl(e.parentNode,n):e.nodeType===1&&wl(e,n),es(e)):wl($e,n.stateNode));break;case 4:r=$e,o=Nt,$e=n.stateNode.containerInfo,Nt=!0,dn(e,t,n),$e=r,Nt=o;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&ku(n,t,u),o=o.next}while(o!==r)}dn(e,t,n);break;case 1:if(!We&&(Ri(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Pe(n,t,h)}dn(e,t,n);break;case 21:dn(e,t,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,dn(e,t,n),We=r):dn(e,t,n);break;default:dn(e,t,n)}}function nf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new L0),t.forEach(function(r){var o=z0.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,u=t,h=u;e:for(;h!==null;){switch(h.tag){case 5:$e=h.stateNode,Nt=!1;break e;case 3:$e=h.stateNode.containerInfo,Nt=!0;break e;case 4:$e=h.stateNode.containerInfo,Nt=!0;break e}h=h.return}if($e===null)throw Error(R(160));zm(a,u,o),$e=null,Nt=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(p){Pe(o,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dm(t,e),t=t.sibling}function Dm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Ut(e),r&4){try{Zr(3,e,e.return),aa(3,e)}catch(E){Pe(e,e.return,E)}try{Zr(5,e,e.return)}catch(E){Pe(e,e.return,E)}}break;case 1:bt(t,e),Ut(e),r&512&&n!==null&&Ri(n,n.return);break;case 5:if(bt(t,e),Ut(e),r&512&&n!==null&&Ri(n,n.return),e.flags&32){var o=e.stateNode;try{Jr(o,"")}catch(E){Pe(e,e.return,E)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,h=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&op(o,a),Kl(h,u);var p=Kl(h,a);for(u=0;u<d.length;u+=2){var m=d[u],_=d[u+1];m==="style"?hp(o,_):m==="dangerouslySetInnerHTML"?up(o,_):m==="children"?Jr(o,_):qu(o,m,_,p)}switch(h){case"input":Hl(o,a);break;case"textarea":ap(o,a);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var P=a.value;P!=null?Di(o,!!a.multiple,P,!1):v!==!!a.multiple&&(a.defaultValue!=null?Di(o,!!a.multiple,a.defaultValue,!0):Di(o,!!a.multiple,a.multiple?[]:"",!1))}o[ss]=a}catch(E){Pe(e,e.return,E)}}break;case 6:if(bt(t,e),Ut(e),r&4){if(e.stateNode===null)throw Error(R(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(E){Pe(e,e.return,E)}}break;case 3:if(bt(t,e),Ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{es(t.containerInfo)}catch(E){Pe(e,e.return,E)}break;case 4:bt(t,e),Ut(e);break;case 13:bt(t,e),Ut(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Lc=Te())),r&4&&nf(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(We=(p=We)||m,bt(t,e),We=p):bt(t,e),Ut(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!m&&e.mode&1)for(U=e,m=e.child;m!==null;){for(_=U=m;U!==null;){switch(v=U,P=v.child,v.tag){case 0:case 11:case 14:case 15:Zr(4,v,v.return);break;case 1:Ri(v,v.return);var T=v.stateNode;if(typeof T.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(E){Pe(r,n,E)}}break;case 5:Ri(v,v.return);break;case 22:if(v.memoizedState!==null){sf(_);continue}}P!==null?(P.return=v,U=P):sf(_)}m=m.sibling}e:for(m=null,_=e;;){if(_.tag===5){if(m===null){m=_;try{o=_.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=_.stateNode,d=_.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=cp("display",u))}catch(E){Pe(e,e.return,E)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=p?"":_.memoizedProps}catch(E){Pe(e,e.return,E)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:bt(t,e),Ut(e),r&4&&nf(e);break;case 21:break;default:bt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Rm(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Jr(o,""),r.flags&=-33);var a=tf(e);Eu(e,a,o);break;case 3:case 4:var u=r.stateNode.containerInfo,h=tf(e);Pu(e,h,u);break;default:throw Error(R(161))}}catch(d){Pe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b0(e,t,n){U=e,Bm(e)}function Bm(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var o=U,a=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||so;if(!u){var h=o.alternate,d=h!==null&&h.memoizedState!==null||We;h=so;var p=We;if(so=u,(We=d)&&!p)for(U=o;U!==null;)u=U,d=u.child,u.tag===22&&u.memoizedState!==null?of(o):d!==null?(d.return=u,U=d):of(o);for(;a!==null;)U=a,Bm(a),a=a.sibling;U=o,so=h,We=p}rf(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,U=a):rf(e)}}function rf(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||aa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!We)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ud(t,a,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ud(t,u,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var m=p.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&es(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}We||t.flags&512&&Su(t)}catch(v){Pe(t,t.return,v)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function sf(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function of(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{aa(4,t)}catch(d){Pe(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(d){Pe(t,o,d)}}var a=t.return;try{Su(t)}catch(d){Pe(t,a,d)}break;case 5:var u=t.return;try{Su(t)}catch(d){Pe(t,u,d)}}}catch(d){Pe(t,t.return,d)}if(t===e){U=null;break}var h=t.sibling;if(h!==null){h.return=t.return,U=h;break}U=t.return}}var O0=Math.ceil,Ho=ln.ReactCurrentDispatcher,Ec=ln.ReactCurrentOwner,Pt=ln.ReactCurrentBatchConfig,se=0,De=null,Ne=null,Ue=0,ut=0,zi=zn(0),Me=0,hs=null,si=0,la=0,Cc=0,Hr=null,nt=null,Lc=0,Qi=1/0,Qt=null,Wo=!1,Cu=null,On=null,oo=!1,Sn=null,Vo=0,Wr=0,Lu=null,ko=-1,So=0;function Ke(){return se&6?Te():ko!==-1?ko:ko=Te()}function Nn(e){return e.mode&1?se&2&&Ue!==0?Ue&-Ue:f0.transition!==null?(So===0&&(So=Sp()),So):(e=le,e!==0||(e=window.event,e=e===void 0?16:Op(e.type)),e):1}function At(e,t,n,r){if(50<Wr)throw Wr=0,Lu=null,Error(R(185));_s(e,n,r),(!(se&2)||e!==De)&&(e===De&&(!(se&2)&&(la|=n),Me===4&&wn(e,Ue)),at(e,r),n===1&&se===0&&!(t.mode&1)&&(Qi=Te()+500,ra&&Dn()))}function at(e,t){var n=e.callbackNode;fy(e,t);var r=bo(e,e===De?Ue:0);if(r===0)n!==null&&pd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pd(n),t===1)e.tag===0?d0(af.bind(null,e)):Kp(af.bind(null,e)),l0(function(){!(se&6)&&Dn()}),n=null;else{switch(Pp(r)){case 1:n=Xu;break;case 4:n=xp;break;case 16:n=To;break;case 536870912:n=kp;break;default:n=To}n=Gm(n,$m.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $m(e,t){if(ko=-1,So=0,se&6)throw Error(R(327));var n=e.callbackNode;if(Zi()&&e.callbackNode!==n)return null;var r=bo(e,e===De?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Go(e,r);else{t=r;var o=se;se|=2;var a=Fm();(De!==e||Ue!==t)&&(Qt=null,Qi=Te()+500,Xn(e,t));do try{j0();break}catch(h){Um(e,h)}while(!0);dc(),Ho.current=a,se=o,Ne!==null?t=0:(De=null,Ue=0,t=Me)}if(t!==0){if(t===2&&(o=eu(e),o!==0&&(r=o,t=Tu(e,o))),t===1)throw n=hs,Xn(e,0),wn(e,r),at(e,Te()),n;if(t===6)wn(e,r);else{if(o=e.current.alternate,!(r&30)&&!N0(o)&&(t=Go(e,r),t===2&&(a=eu(e),a!==0&&(r=a,t=Tu(e,a))),t===1))throw n=hs,Xn(e,0),wn(e,r),at(e,Te()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Gn(e,nt,Qt);break;case 3:if(wn(e,r),(r&130023424)===r&&(t=Lc+500-Te(),10<t)){if(bo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ke(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=lu(Gn.bind(null,e,nt,Qt),t);break}Gn(e,nt,Qt);break;case 4:if(wn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var u=31-Mt(r);a=1<<u,u=t[u],u>o&&(o=u),r&=~a}if(r=o,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O0(r/1960))-r,10<r){e.timeoutHandle=lu(Gn.bind(null,e,nt,Qt),r);break}Gn(e,nt,Qt);break;case 5:Gn(e,nt,Qt);break;default:throw Error(R(329))}}}return at(e,Te()),e.callbackNode===n?$m.bind(null,e):null}function Tu(e,t){var n=Hr;return e.current.memoizedState.isDehydrated&&(Xn(e,t).flags|=256),e=Go(e,t),e!==2&&(t=nt,nt=n,t!==null&&bu(t)),e}function bu(e){nt===null?nt=e:nt.push.apply(nt,e)}function N0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Rt(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wn(e,t){for(t&=~Cc,t&=~la,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mt(t),r=1<<n;e[n]=-1,t&=~r}}function af(e){if(se&6)throw Error(R(327));Zi();var t=bo(e,0);if(!(t&1))return at(e,Te()),null;var n=Go(e,t);if(e.tag!==0&&n===2){var r=eu(e);r!==0&&(t=r,n=Tu(e,r))}if(n===1)throw n=hs,Xn(e,0),wn(e,t),at(e,Te()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gn(e,nt,Qt),at(e,Te()),null}function Tc(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Qi=Te()+500,ra&&Dn())}}function oi(e){Sn!==null&&Sn.tag===0&&!(se&6)&&Zi();var t=se;se|=1;var n=Pt.transition,r=le;try{if(Pt.transition=null,le=1,e)return e()}finally{le=r,Pt.transition=n,se=t,!(se&6)&&Dn()}}function bc(){ut=zi.current,me(zi)}function Xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,a0(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(uc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mo();break;case 3:Ki(),me(st),me(Ve),vc();break;case 5:_c(r);break;case 4:Ki();break;case 13:me(ye);break;case 19:me(ye);break;case 10:fc(r.type._context);break;case 22:case 23:bc()}n=n.return}if(De=e,Ne=e=In(e.current,null),Ue=ut=t,Me=0,hs=null,Cc=la=si=0,nt=Hr=null,Qn!==null){for(t=0;t<Qn.length;t++)if(n=Qn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,r.next=u}n.pending=r}Qn=null}return e}function Um(e,t){do{var n=Ne;try{if(dc(),yo.current=Zo,Fo){for(var r=we.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Fo=!1}if(ri=0,ze=je=we=null,Fr=!1,ls=0,Ec.current=null,n===null||n.return===null){Me=1,hs=t,Ne=null;break}e:{var a=e,u=n.return,h=n,d=t;if(t=Ue,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,m=h,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var P=Gd(u);if(P!==null){P.flags&=-257,qd(P,u,h,a,t),P.mode&1&&Vd(a,p,t),t=P,d=p;var T=t.updateQueue;if(T===null){var E=new Set;E.add(d),t.updateQueue=E}else T.add(d);break e}else{if(!(t&1)){Vd(a,p,t),Oc();break e}d=Error(R(426))}}else if(_e&&h.mode&1){var j=Gd(u);if(j!==null){!(j.flags&65536)&&(j.flags|=256),qd(j,u,h,a,t),cc(Ji(d,h));break e}}a=d=Ji(d,h),Me!==4&&(Me=2),Hr===null?Hr=[a]:Hr.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Pm(a,d,t);$d(a,x);break e;case 1:h=d;var y=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(On===null||!On.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=Em(a,h,t);$d(a,b);break e}}a=a.return}while(a!==null)}Hm(n)}catch(A){t=A,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function Fm(){var e=Ho.current;return Ho.current=Zo,e===null?Zo:e}function Oc(){(Me===0||Me===3||Me===2)&&(Me=4),De===null||!(si&268435455)&&!(la&268435455)||wn(De,Ue)}function Go(e,t){var n=se;se|=2;var r=Fm();(De!==e||Ue!==t)&&(Qt=null,Xn(e,t));do try{I0();break}catch(o){Um(e,o)}while(!0);if(dc(),se=n,Ho.current=r,Ne!==null)throw Error(R(261));return De=null,Ue=0,Me}function I0(){for(;Ne!==null;)Zm(Ne)}function j0(){for(;Ne!==null&&!ry();)Zm(Ne)}function Zm(e){var t=Vm(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?Hm(e):Ne=t,Ec.current=null}function Hm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=C0(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Ne=null;return}}else if(n=E0(n,t,ut),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Me===0&&(Me=5)}function Gn(e,t,n){var r=le,o=Pt.transition;try{Pt.transition=null,le=1,M0(e,t,n,r)}finally{Pt.transition=o,le=r}return null}function M0(e,t,n,r){do Zi();while(Sn!==null);if(se&6)throw Error(R(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(py(e,a),e===De&&(Ne=De=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oo||(oo=!0,Gm(To,function(){return Zi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Pt.transition,Pt.transition=null;var u=le;le=1;var h=se;se|=4,Ec.current=null,T0(e,n),Dm(n,e),e0(ou),Oo=!!su,ou=su=null,e.current=n,b0(n),sy(),se=h,le=u,Pt.transition=a}else e.current=n;if(oo&&(oo=!1,Sn=e,Vo=o),a=e.pendingLanes,a===0&&(On=null),ly(n.stateNode),at(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wo)throw Wo=!1,e=Cu,Cu=null,e;return Vo&1&&e.tag!==0&&Zi(),a=e.pendingLanes,a&1?e===Lu?Wr++:(Wr=0,Lu=e):Wr=0,Dn(),null}function Zi(){if(Sn!==null){var e=Pp(Vo),t=Pt.transition,n=le;try{if(Pt.transition=null,le=16>e?16:e,Sn===null)var r=!1;else{if(e=Sn,Sn=null,Vo=0,se&6)throw Error(R(331));var o=se;for(se|=4,U=e.current;U!==null;){var a=U,u=a.child;if(U.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for(U=p;U!==null;){var m=U;switch(m.tag){case 0:case 11:case 15:Zr(8,m,a)}var _=m.child;if(_!==null)_.return=m,U=_;else for(;U!==null;){m=U;var v=m.sibling,P=m.return;if(Am(m),m===p){U=null;break}if(v!==null){v.return=P,U=v;break}U=P}}}var T=a.alternate;if(T!==null){var E=T.child;if(E!==null){T.child=null;do{var j=E.sibling;E.sibling=null,E=j}while(E!==null)}}U=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,U=u;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zr(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,U=x;break e}U=a.return}}var y=e.current;for(U=y;U!==null;){u=U;var S=u.child;if(u.subtreeFlags&2064&&S!==null)S.return=u,U=S;else e:for(u=y;U!==null;){if(h=U,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:aa(9,h)}}catch(A){Pe(h,h.return,A)}if(h===u){U=null;break e}var b=h.sibling;if(b!==null){b.return=h.return,U=b;break e}U=h.return}}if(se=o,Dn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Xo,e)}catch{}r=!0}return r}finally{le=n,Pt.transition=t}}return!1}function lf(e,t,n){t=Ji(n,t),t=Pm(e,t,1),e=bn(e,t,1),t=Ke(),e!==null&&(_s(e,1,t),at(e,t))}function Pe(e,t,n){if(e.tag===3)lf(e,e,n);else for(;t!==null;){if(t.tag===3){lf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){e=Ji(n,e),e=Em(t,e,1),t=bn(t,e,1),e=Ke(),t!==null&&(_s(t,1,e),at(t,e));break}}t=t.return}}function A0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Ue&n)===n&&(Me===4||Me===3&&(Ue&130023424)===Ue&&500>Te()-Lc?Xn(e,0):Cc|=n),at(e,t)}function Wm(e,t){t===0&&(e.mode&1?(t=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):t=1);var n=Ke();e=on(e,t),e!==null&&(_s(e,t,n),at(e,n))}function R0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wm(e,n)}function z0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Wm(e,n)}var Vm;Vm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,P0(e,t,n);rt=!!(e.flags&131072)}else rt=!1,_e&&t.flags&1048576&&Jp(t,zo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xo(e,t),e=t.pendingProps;var o=Vi(t,Ve.current);Fi(t,n),o=wc(null,t,r,e,o,n);var a=xc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)?(a=!0,Ao(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,mc(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,mu(t,r,e,n),t=vu(null,t,r,!0,a,n)):(t.tag=0,_e&&a&&lc(t),qe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=B0(r),e=Ot(r,e),o){case 0:t=_u(null,t,r,e,n);break e;case 1:t=Qd(null,t,r,e,n);break e;case 11:t=Kd(null,t,r,e,n);break e;case 14:t=Jd(null,t,r,Ot(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ot(r,o),_u(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ot(r,o),Qd(e,t,r,o,n);case 3:e:{if(bm(t),e===null)throw Error(R(387));r=t.pendingProps,a=t.memoizedState,o=a.element,nm(e,t),$o(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Ji(Error(R(423)),t),t=Yd(e,t,r,n,o);break e}else if(r!==o){o=Ji(Error(R(424)),t),t=Yd(e,t,r,n,o);break e}else for(ct=Tn(t.stateNode.containerInfo.firstChild),ht=t,_e=!0,jt=null,n=em(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gi(),r===o){t=an(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return im(t),e===null&&du(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,u=o.children,au(r,o)?u=null:a!==null&&au(r,a)&&(t.flags|=32),Tm(e,t),qe(e,t,u,n),t.child;case 6:return e===null&&du(t),null;case 13:return Om(e,t,n);case 4:return gc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qi(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ot(r,o),Kd(e,t,r,o,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,u=o.value,fe(Do,r._currentValue),r._currentValue=u,a!==null)if(Rt(a.value,u)){if(a.children===o.children&&!st.current){t=an(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=nn(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var m=p.pending;m===null?d.next=d:(d.next=m.next,m.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),fu(a.return,n,t),h.lanes|=n;break}d=d.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(R(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),fu(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}qe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Fi(t,n),o=Et(o),r=r(o),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,o=Ot(r,t.pendingProps),o=Ot(r.type,o),Jd(e,t,r,o,n);case 15:return Cm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ot(r,o),xo(e,t),t.tag=1,ot(r)?(e=!0,Ao(t)):e=!1,Fi(t,n),Sm(t,r,o),mu(t,r,o,n),vu(null,t,r,!0,e,n);case 19:return Nm(e,t,n);case 22:return Lm(e,t,n)}throw Error(R(156,t.tag))};function Gm(e,t){return wp(e,t)}function D0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,r){return new D0(e,t,n,r)}function Nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function B0(e){if(typeof e=="function")return Nc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ju)return 11;if(e===Qu)return 14}return 2}function In(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Po(e,t,n,r,o,a){var u=2;if(r=e,typeof e=="function")Nc(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Li:return ei(n.children,o,a,t);case Ku:u=8,o|=8;break;case Bl:return e=St(12,n,t,o|2),e.elementType=Bl,e.lanes=a,e;case $l:return e=St(13,n,t,o),e.elementType=$l,e.lanes=a,e;case Ul:return e=St(19,n,t,o),e.elementType=Ul,e.lanes=a,e;case ip:return ua(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tp:u=10;break e;case np:u=9;break e;case Ju:u=11;break e;case Qu:u=14;break e;case gn:u=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=St(u,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function ei(e,t,n,r){return e=St(7,e,r,t),e.lanes=n,e}function ua(e,t,n,r){return e=St(22,e,r,t),e.elementType=ip,e.lanes=n,e.stateNode={isHidden:!1},e}function Tl(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function bl(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $0(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ic(e,t,n,r,o,a,u,h,d){return e=new $0(e,t,n,h,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=St(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mc(a),e}function U0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ci,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qm(e){if(!e)return An;e=e._reactInternals;e:{if(li(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(ot(n))return qp(e,n,t)}return t}function Km(e,t,n,r,o,a,u,h,d){return e=Ic(n,r,!0,e,o,a,u,h,d),e.context=qm(null),n=e.current,r=Ke(),o=Nn(n),a=nn(r,o),a.callback=t??null,bn(n,a,o),e.current.lanes=o,_s(e,o,r),at(e,r),e}function ca(e,t,n,r){var o=t.current,a=Ke(),u=Nn(o);return n=qm(n),t.context===null?t.context=n:t.pendingContext=n,t=nn(a,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bn(o,t,u),e!==null&&(At(e,o,u,a),vo(e,o,u)),u}function qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jc(e,t){uf(e,t),(e=e.alternate)&&uf(e,t)}function F0(){return null}var Jm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mc(e){this._internalRoot=e}ha.prototype.render=Mc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));ca(e,t,null,null)};ha.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oi(function(){ca(null,e,null,null)}),t[sn]=null}};function ha(e){this._internalRoot=e}ha.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yn.length&&t!==0&&t<yn[n].priority;n++);yn.splice(n,0,e),n===0&&bp(e)}};function Ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cf(){}function Z0(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var p=qo(u);a.call(p)}}var u=Km(t,r,e,0,null,!1,!1,"",cf);return e._reactRootContainer=u,e[sn]=u.current,is(e.nodeType===8?e.parentNode:e),oi(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var h=r;r=function(){var p=qo(d);h.call(p)}}var d=Ic(e,0,!1,null,null,!1,!1,"",cf);return e._reactRootContainer=d,e[sn]=d.current,is(e.nodeType===8?e.parentNode:e),oi(function(){ca(t,d,n,r)}),d}function fa(e,t,n,r,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var d=qo(u);h.call(d)}}ca(t,u,e,o)}else u=Z0(n,t,e,o,r);return qo(u)}Ep=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mr(t.pendingLanes);n!==0&&(ec(t,n|1),at(t,Te()),!(se&6)&&(Qi=Te()+500,Dn()))}break;case 13:oi(function(){var r=on(e,1);if(r!==null){var o=Ke();At(r,e,1,o)}}),jc(e,1)}};tc=function(e){if(e.tag===13){var t=on(e,134217728);if(t!==null){var n=Ke();At(t,e,134217728,n)}jc(e,134217728)}};Cp=function(e){if(e.tag===13){var t=Nn(e),n=on(e,t);if(n!==null){var r=Ke();At(n,e,t,r)}jc(e,t)}};Lp=function(){return le};Tp=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Ql=function(e,t,n){switch(t){case"input":if(Hl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ia(r);if(!o)throw Error(R(90));sp(r),Hl(r,o)}}}break;case"textarea":ap(e,n);break;case"select":t=n.value,t!=null&&Di(e,!!n.multiple,t,!1)}};pp=Tc;mp=oi;var H0={usingClientEntryPoint:!1,Events:[ys,Ni,ia,dp,fp,Tc]},Tr={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W0={bundleType:Tr.bundleType,version:Tr.version,rendererPackageName:Tr.rendererPackageName,rendererConfig:Tr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vp(e),e===null?null:e.stateNode},findFiberByHostInstance:Tr.findFiberByHostInstance||F0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{Xo=ao.inject(W0),Wt=ao}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H0;pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ac(t))throw Error(R(200));return U0(e,t,null,n)};pt.createRoot=function(e,t){if(!Ac(e))throw Error(R(299));var n=!1,r="",o=Jm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ic(e,1,!1,null,null,n,!1,r,o),e[sn]=t.current,is(e.nodeType===8?e.parentNode:e),new Mc(t)};pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=vp(t),e=e===null?null:e.stateNode,e};pt.flushSync=function(e){return oi(e)};pt.hydrate=function(e,t,n){if(!da(t))throw Error(R(200));return fa(null,e,t,!0,n)};pt.hydrateRoot=function(e,t,n){if(!Ac(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",u=Jm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Km(t,null,e,1,n??null,o,!1,a,u),e[sn]=t.current,is(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ha(t)};pt.render=function(e,t,n){if(!da(t))throw Error(R(200));return fa(null,e,t,!1,n)};pt.unmountComponentAtNode=function(e){if(!da(e))throw Error(R(40));return e._reactRootContainer?(oi(function(){fa(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};pt.unstable_batchedUpdates=Tc;pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!da(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return fa(e,t,n,!1,r)};pt.version="18.3.1-next-f1338f8080-20240426";function Qm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qm)}catch(e){console.error(e)}}Qm(),Qf.exports=pt;var Ym=Qf.exports,Xm,hf=Ym;Xm=hf.createRoot,hf.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ds.apply(this,arguments)}var Pn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pn||(Pn={}));const df="popstate";function V0(e){e===void 0&&(e={});function t(r,o){let{pathname:a,search:u,hash:h}=r.location;return Ou("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Ko(o)}return q0(t,n,null,e)}function Ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function G0(){return Math.random().toString(36).substr(2,8)}function ff(e,t){return{usr:e.state,key:e.key,idx:t}}function Ou(e,t,n,r){return n===void 0&&(n=null),ds({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rr(t):t,{state:n,key:t&&t.key||r||G0()})}function Ko(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function rr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function q0(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h=Pn.Pop,d=null,p=m();p==null&&(p=0,u.replaceState(ds({},u.state,{idx:p}),""));function m(){return(u.state||{idx:null}).idx}function _(){h=Pn.Pop;let j=m(),x=j==null?null:j-p;p=j,d&&d({action:h,location:E.location,delta:x})}function v(j,x){h=Pn.Push;let y=Ou(E.location,j,x);p=m()+1;let S=ff(y,p),b=E.createHref(y);try{u.pushState(S,"",b)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(b)}a&&d&&d({action:h,location:E.location,delta:1})}function P(j,x){h=Pn.Replace;let y=Ou(E.location,j,x);p=m();let S=ff(y,p),b=E.createHref(y);u.replaceState(S,"",b),a&&d&&d({action:h,location:E.location,delta:0})}function T(j){let x=o.location.origin!=="null"?o.location.origin:o.location.href,y=typeof j=="string"?j:Ko(j);return y=y.replace(/ $/,"%20"),Ie(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let E={get action(){return h},get location(){return e(o,u)},listen(j){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(df,_),d=j,()=>{o.removeEventListener(df,_),d=null}},createHref(j){return t(o,j)},createURL:T,encodeLocation(j){let x=T(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:v,replace:P,go(j){return u.go(j)}};return E}var pf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pf||(pf={}));function K0(e,t,n){return n===void 0&&(n="/"),J0(e,t,n,!1)}function J0(e,t,n,r){let o=typeof t=="string"?rr(t):t,a=Rc(o.pathname||"/",n);if(a==null)return null;let u=tg(e);Q0(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=lw(a);h=ow(u[d],p,r)}return h}function tg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(a,u,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(Ie(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=jn([r,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(Ie(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),tg(a.children,t,m,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:rw(p,a.index),routesMeta:m})};return e.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let d of ng(a.path))o(a,u,d)}),t}function ng(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=ng(r.join("/")),h=[];return h.push(...u.map(d=>d===""?a:[a,d].join("/"))),o&&h.push(...u),h.map(d=>e.startsWith("/")&&d===""?"/":d)}function Q0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:sw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Y0=/^:[\w-]+$/,X0=3,ew=2,tw=1,nw=10,iw=-2,mf=e=>e==="*";function rw(e,t){let n=e.split("/"),r=n.length;return n.some(mf)&&(r+=iw),t&&(r+=ew),n.filter(o=>!mf(o)).reduce((o,a)=>o+(Y0.test(a)?X0:a===""?tw:nw),r)}function sw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function ow(e,t,n){let{routesMeta:r}=e,o={},a="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",_=gf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),v=d.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=gf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:jn([a,_.pathname]),pathnameBase:dw(jn([a,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(a=jn([a,_.pathnameBase]))}return u}function gf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=aw(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,m,_)=>{let{paramName:v,isOptional:P}=m;if(v==="*"){let E=h[_]||"";u=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const T=h[_];return P&&!T?p[v]=void 0:p[v]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:e}}function aw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),eg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function lw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function uw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?rr(e):e;return{pathname:n?n.startsWith("/")?n:cw(n,t):t,search:fw(r),hash:pw(o)}}function cw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ol(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ig(e,t){let n=hw(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rg(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=rr(e):(o=ds({},e),Ie(!o.pathname||!o.pathname.includes("?"),Ol("?","pathname","search",o)),Ie(!o.pathname||!o.pathname.includes("#"),Ol("#","pathname","hash",o)),Ie(!o.search||!o.search.includes("#"),Ol("#","search","hash",o)));let a=e===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let _=t.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;o.pathname=v.join("/")}h=_>=0?t[_]:"/"}let d=uw(o,h),p=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}const jn=e=>e.join("/").replace(/\/\/+/g,"/"),dw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sg=["post","put","patch","delete"];new Set(sg);const gw=["get",...sg];new Set(gw);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fs.apply(this,arguments)}const zc=N.createContext(null),_w=N.createContext(null),ui=N.createContext(null),pa=N.createContext(null),Bn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),og=N.createContext(null);function vw(e,t){let{relative:n}=t===void 0?{}:t;xs()||Ie(!1);let{basename:r,navigator:o}=N.useContext(ui),{hash:a,pathname:u,search:h}=lg(e,{relative:n}),d=u;return r!=="/"&&(d=u==="/"?r:jn([r,u])),o.createHref({pathname:d,search:h,hash:a})}function xs(){return N.useContext(pa)!=null}function ma(){return xs()||Ie(!1),N.useContext(pa).location}function ag(e){N.useContext(ui).static||N.useLayoutEffect(e)}function ks(){let{isDataRoute:e}=N.useContext(Bn);return e?jw():yw()}function yw(){xs()||Ie(!1);let e=N.useContext(zc),{basename:t,future:n,navigator:r}=N.useContext(ui),{matches:o}=N.useContext(Bn),{pathname:a}=ma(),u=JSON.stringify(ig(o,n.v7_relativeSplatPath)),h=N.useRef(!1);return ag(()=>{h.current=!0}),N.useCallback(function(p,m){if(m===void 0&&(m={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let _=rg(p,JSON.parse(u),a,m.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:jn([t,_.pathname])),(m.replace?r.replace:r.push)(_,m.state,m)},[t,r,u,a,e])}const ww=N.createContext(null);function xw(e){let t=N.useContext(Bn).outlet;return t&&N.createElement(ww.Provider,{value:e},t)}function lg(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=N.useContext(ui),{matches:o}=N.useContext(Bn),{pathname:a}=ma(),u=JSON.stringify(ig(o,r.v7_relativeSplatPath));return N.useMemo(()=>rg(e,JSON.parse(u),a,n==="path"),[e,u,a,n])}function kw(e,t){return Sw(e,t)}function Sw(e,t,n,r){xs()||Ie(!1);let{navigator:o,static:a}=N.useContext(ui),{matches:u}=N.useContext(Bn),h=u[u.length-1],d=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let m=ma(),_;if(t){var v;let x=typeof t=="string"?rr(t):t;p==="/"||(v=x.pathname)!=null&&v.startsWith(p)||Ie(!1),_=x}else _=m;let P=_.pathname||"/",T=P;if(p!=="/"){let x=p.replace(/^\//,"").split("/");T="/"+P.replace(/^\//,"").split("/").slice(x.length).join("/")}let E=!a&&n&&n.matches&&n.matches.length>0?n.matches:K0(e,{pathname:T}),j=Tw(E&&E.map(x=>Object.assign({},x,{params:Object.assign({},d,x.params),pathname:jn([p,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?p:jn([p,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),u,n,r);return t&&j?N.createElement(pa.Provider,{value:{location:fs({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Pn.Pop}},j):j}function Pw(){let e=Iw(),t=mw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:o},n):null,null)}const Ew=N.createElement(Pw,null);class Cw extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?N.createElement(Bn.Provider,{value:this.props.routeContext},N.createElement(og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lw(e){let{routeContext:t,match:n,children:r}=e,o=N.useContext(zc);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Bn.Provider,{value:t},r)}function Tw(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,h=(o=n)==null?void 0:o.errors;if(h!=null){let m=u.findIndex(_=>_.route.id&&(h==null?void 0:h[_.route.id])!==void 0);m>=0||Ie(!1),u=u.slice(0,Math.min(u.length,m+1))}let d=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<u.length;m++){let _=u[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=m),_.route.id){let{loaderData:v,errors:P}=n,T=_.route.loader&&v[_.route.id]===void 0&&(!P||P[_.route.id]===void 0);if(_.route.lazy||T){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((m,_,v)=>{let P,T=!1,E=null,j=null;n&&(P=h&&_.route.id?h[_.route.id]:void 0,E=_.route.errorElement||Ew,d&&(p<0&&v===0?(T=!0,j=null):p===v&&(T=!0,j=_.route.hydrateFallbackElement||null)));let x=t.concat(u.slice(0,v+1)),y=()=>{let S;return P?S=E:T?S=j:_.route.Component?S=N.createElement(_.route.Component,null):_.route.element?S=_.route.element:S=m,N.createElement(Lw,{match:_,routeContext:{outlet:m,matches:x,isDataRoute:n!=null},children:S})};return n&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?N.createElement(Cw,{location:n.location,revalidation:n.revalidation,component:E,error:P,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var ug=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ug||{}),Jo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Jo||{});function bw(e){let t=N.useContext(zc);return t||Ie(!1),t}function Ow(e){let t=N.useContext(_w);return t||Ie(!1),t}function Nw(e){let t=N.useContext(Bn);return t||Ie(!1),t}function cg(e){let t=Nw(),n=t.matches[t.matches.length-1];return n.route.id||Ie(!1),n.route.id}function Iw(){var e;let t=N.useContext(og),n=Ow(Jo.UseRouteError),r=cg(Jo.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function jw(){let{router:e}=bw(ug.UseNavigateStable),t=cg(Jo.UseNavigateStable),n=N.useRef(!1);return ag(()=>{n.current=!0}),N.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,fs({fromRouteId:t},a)))},[e,t])}function Mw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Aw(e){return xw(e.context)}function fn(e){Ie(!1)}function Rw(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Pn.Pop,navigator:a,static:u=!1,future:h}=e;xs()&&Ie(!1);let d=t.replace(/^\/*/,"/"),p=N.useMemo(()=>({basename:d,navigator:a,static:u,future:fs({v7_relativeSplatPath:!1},h)}),[d,h,a,u]);typeof r=="string"&&(r=rr(r));let{pathname:m="/",search:_="",hash:v="",state:P=null,key:T="default"}=r,E=N.useMemo(()=>{let j=Rc(m,d);return j==null?null:{location:{pathname:j,search:_,hash:v,state:P,key:T},navigationType:o}},[d,m,_,v,P,T,o]);return E==null?null:N.createElement(ui.Provider,{value:p},N.createElement(pa.Provider,{children:n,value:E}))}function zw(e){let{children:t,location:n}=e;return kw(Nu(t),n)}new Promise(()=>{});function Nu(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(r,o)=>{if(!N.isValidElement(r))return;let a=[...t,o];if(r.type===N.Fragment){n.push.apply(n,Nu(r.props.children,a));return}r.type!==fn&&Ie(!1),!r.props.index||!r.props.children||Ie(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Nu(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iu.apply(this,arguments)}function Dw(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Bw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $w(e,t){return e.button===0&&(!t||t==="_self")&&!Bw(e)}const Uw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fw="6";try{window.__reactRouterVersion=Fw}catch{}const Zw="startTransition",_f=Av[Zw];function Hw(e){let{basename:t,children:n,future:r,window:o}=e,a=N.useRef();a.current==null&&(a.current=V0({window:o,v5Compat:!0}));let u=a.current,[h,d]=N.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},m=N.useCallback(_=>{p&&_f?_f(()=>d(_)):d(_)},[d,p]);return N.useLayoutEffect(()=>u.listen(m),[u,m]),N.useEffect(()=>Mw(r),[r]),N.createElement(Rw,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:u,future:r})}const Ww=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,br=N.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:a,replace:u,state:h,target:d,to:p,preventScrollReset:m,viewTransition:_}=t,v=Dw(t,Uw),{basename:P}=N.useContext(ui),T,E=!1;if(typeof p=="string"&&Vw.test(p)&&(T=p,Ww))try{let S=new URL(window.location.href),b=p.startsWith("//")?new URL(S.protocol+p):new URL(p),A=Rc(b.pathname,P);b.origin===S.origin&&A!=null?p=A+b.search+b.hash:E=!0}catch{}let j=vw(p,{relative:o}),x=Gw(p,{replace:u,state:h,target:d,preventScrollReset:m,relative:o,viewTransition:_});function y(S){r&&r(S),S.defaultPrevented||x(S)}return N.createElement("a",Iu({},v,{href:T||j,onClick:E||a?r:y,ref:n,target:d}))});var vf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vf||(vf={}));var yf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yf||(yf={}));function Gw(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:u,viewTransition:h}=t===void 0?{}:t,d=ks(),p=ma(),m=lg(e,{relative:u});return N.useCallback(_=>{if($w(_,n)){_.preventDefault();let v=r!==void 0?r:Ko(p)===Ko(m);d(e,{replace:v,state:o,preventScrollReset:a,relative:u,viewTransition:h})}},[p,d,m,r,o,n,e,a,u,h])}const qw={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwbGpxdHd1bHVvZXZ0Y2N1bGZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkwODU5NTEsImV4cCI6MjA1NDY2MTk1MX0.P0HcERwpyyg7IV3MwEivIpiqWiD4wU9wx_KCKbLNa2M",VITE_SUPABASE_URL:"https://epljqtwuluoevtcculfq.supabase.co"},wf=e=>{let t;const n=new Set,r=(m,_)=>{const v=typeof m=="function"?m(t):m;if(!Object.is(v,t)){const P=t;t=_??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(T=>T(t,P))}},o=()=>t,d={setState:r,getState:o,getInitialState:()=>p,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(qw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},p=t=e(r,o,d);return d},Kw=e=>e?wf(e):wf;var hg={exports:{}},dg={},fg={exports:{}},pg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=N;function Jw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qw=typeof Object.is=="function"?Object.is:Jw,Yw=Yi.useState,Xw=Yi.useEffect,e1=Yi.useLayoutEffect,t1=Yi.useDebugValue;function n1(e,t){var n=t(),r=Yw({inst:{value:n,getSnapshot:t}}),o=r[0].inst,a=r[1];return e1(function(){o.value=n,o.getSnapshot=t,Nl(o)&&a({inst:o})},[e,n,t]),Xw(function(){return Nl(o)&&a({inst:o}),e(function(){Nl(o)&&a({inst:o})})},[e]),t1(n),n}function Nl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qw(e,n)}catch{return!0}}function i1(e,t){return t()}var r1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?i1:n1;pg.useSyncExternalStore=Yi.useSyncExternalStore!==void 0?Yi.useSyncExternalStore:r1;fg.exports=pg;var s1=fg.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=N,o1=s1;function a1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var l1=typeof Object.is=="function"?Object.is:a1,u1=o1.useSyncExternalStore,c1=ga.useRef,h1=ga.useEffect,d1=ga.useMemo,f1=ga.useDebugValue;dg.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var a=c1(null);if(a.current===null){var u={hasValue:!1,value:null};a.current=u}else u=a.current;a=d1(function(){function d(P){if(!p){if(p=!0,m=P,P=r(P),o!==void 0&&u.hasValue){var T=u.value;if(o(T,P))return _=T}return _=P}if(T=_,l1(m,P))return T;var E=r(P);return o!==void 0&&o(T,E)?(m=P,T):(m=P,_=E)}var p=!1,m,_,v=n===void 0?null:n;return[function(){return d(t())},v===null?void 0:function(){return d(v())}]},[t,n,r,o]);var h=u1(e,a[0],a[1]);return h1(function(){u.hasValue=!0,u.value=h},[h]),f1(h),h};hg.exports=dg;var p1=hg.exports;const m1=Bf(p1),mg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwbGpxdHd1bHVvZXZ0Y2N1bGZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkwODU5NTEsImV4cCI6MjA1NDY2MTk1MX0.P0HcERwpyyg7IV3MwEivIpiqWiD4wU9wx_KCKbLNa2M",VITE_SUPABASE_URL:"https://epljqtwuluoevtcculfq.supabase.co"},{useDebugValue:g1}=qr,{useSyncExternalStoreWithSelector:_1}=m1;let xf=!1;const v1=e=>e;function y1(e,t=v1,n){(mg?"production":void 0)!=="production"&&n&&!xf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),xf=!0);const r=_1(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return g1(r),r}const kf=e=>{(mg?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Kw(e):e,n=(r,o)=>y1(t,r,o);return Object.assign(n,t),n},w1=e=>e?kf(e):kf,x1="modulepreload",k1=function(e){return"/"+e},Sf={},Xi=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(n.map(d=>{if(d=k1(d),d in Sf)return;Sf[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":x1,p||(_.as="script"),_.crossOrigin="",_.href=d,h&&_.setAttribute("nonce",h),document.head.appendChild(_),p)return new Promise((v,P)=>{_.addEventListener("load",v),_.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})},S1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xi(async()=>{const{default:r}=await Promise.resolve().then(()=>sr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Dc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class P1 extends Dc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class E1 extends Dc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class C1 extends Dc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ju;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ju||(ju={}));var L1=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(r.next(m))}catch(_){u(_)}}function d(m){try{p(r.throw(m))}catch(_){u(_)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((r=r.apply(e,t||[])).next())})};class T1{constructor(t,{headers:n={},customFetch:r,region:o=ju.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=S1(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return L1(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:u}=n;let h={},{region:d}=n;d||(d=this.region),d&&d!=="any"&&(h["x-region"]=d);let p;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)));const m=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:p}).catch(T=>{throw new P1(T)}),_=m.headers.get("x-relay-error");if(_&&_==="true")throw new E1(m);if(!m.ok)throw new C1(m);let v=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),P;return v==="application/json"?P=yield m.json():v==="application/octet-stream"?P=yield m.blob():v==="text/event-stream"?P=m:v==="multipart/form-data"?P=yield m.formData():P=yield m.text(),{data:P,error:null}}catch(o){return{data:null,error:o}}})}}var it={},Bc={},_a={},Ss={},va={},ya={},b1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},er=b1();const O1=er.fetch,gg=er.fetch.bind(er),_g=er.Headers,N1=er.Request,I1=er.Response,sr=Object.freeze(Object.defineProperty({__proto__:null,Headers:_g,Request:N1,Response:I1,default:gg,fetch:O1},Symbol.toStringTag,{value:"Module"})),j1=yv(sr);var wa={};Object.defineProperty(wa,"__esModule",{value:!0});let M1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};wa.default=M1;var vg=dt&&dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});const A1=vg(j1),R1=vg(wa);let z1=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=A1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var u,h,d;let p=null,m=null,_=null,v=a.status,P=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=x:m=JSON.parse(x))}const E=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),j=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");E&&j&&j.length>1&&(_=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,_=null,v=406,P="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const E=await a.text();try{p=JSON.parse(E),Array.isArray(p)&&a.status===404&&(m=[],p=null,v=200,P="OK")}catch{a.status===404&&E===""?(v=204,P="No Content"):p={message:E}}if(p&&this.isMaybeSingle&&(!((d=p==null?void 0:p.details)===null||d===void 0)&&d.includes("0 rows"))&&(p=null,v=200,P="OK"),p&&this.shouldThrowOnError)throw new R1.default(p)}return{error:p,data:m,count:_,status:v,statusText:P}});return this.shouldThrowOnError||(o=o.catch(a=>{var u,h,d;return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=a==null?void 0:a.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}};ya.default=z1;var D1=dt&&dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(va,"__esModule",{value:!0});const B1=D1(ya);let $1=class extends B1.default{select(t){let n=!1;const r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:a=o}={}){const u=a?`${a}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(u,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:a=!1,format:u="text"}={}){var h;const d=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${d};`,u==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};va.default=$1;var U1=dt&&dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ss,"__esModule",{value:!0});const F1=U1(va);let Z1=class extends F1.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${u}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ss.default=Z1;var H1=dt&&dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_a,"__esModule",{value:!0});const Or=H1(Ss);let W1=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let a=!1;const u=(t??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",u),r&&(this.headers.Prefer=`count=${r}`),new Or.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const o="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const u=t.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new Or.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:a=!0}={}){const u="POST",h=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),a||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(t)){const d=t.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(d.length>0){const p=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new Or.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new Or.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Or.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};_a.default=W1;var xa={},ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.version=void 0;ka.version="0.0.0-automated";Object.defineProperty(xa,"__esModule",{value:!0});xa.DEFAULT_HEADERS=void 0;const V1=ka;xa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${V1.version}`};var yg=dt&&dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bc,"__esModule",{value:!0});const G1=yg(_a),q1=yg(Ss),K1=xa;let J1=class wg{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},K1.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new G1.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:a}={}){let u;const h=new URL(`${this.url}/rpc/${t}`);let d;r||o?(u=r?"HEAD":"GET",Object.entries(n).filter(([m,_])=>_!==void 0).map(([m,_])=>[m,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([m,_])=>{h.searchParams.append(m,_)})):(u="POST",d=n);const p=Object.assign({},this.headers);return a&&(p.Prefer=`count=${a}`),new q1.default({method:u,url:h,headers:p,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};Bc.default=J1;var or=dt&&dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(it,"__esModule",{value:!0});it.PostgrestError=it.PostgrestBuilder=it.PostgrestTransformBuilder=it.PostgrestFilterBuilder=it.PostgrestQueryBuilder=it.PostgrestClient=void 0;const xg=or(Bc);it.PostgrestClient=xg.default;const kg=or(_a);it.PostgrestQueryBuilder=kg.default;const Sg=or(Ss);it.PostgrestFilterBuilder=Sg.default;const Pg=or(va);it.PostgrestTransformBuilder=Pg.default;const Eg=or(ya);it.PostgrestBuilder=Eg.default;const Cg=or(wa);it.PostgrestError=Cg.default;var Q1=it.default={PostgrestClient:xg.default,PostgrestQueryBuilder:kg.default,PostgrestFilterBuilder:Sg.default,PostgrestTransformBuilder:Pg.default,PostgrestBuilder:Eg.default,PostgrestError:Cg.default};const{PostgrestClient:Y1,PostgrestQueryBuilder:ES,PostgrestFilterBuilder:CS,PostgrestTransformBuilder:LS,PostgrestBuilder:TS,PostgrestError:bS}=Q1,X1="2.11.2",ex={"X-Client-Info":`realtime-js/${X1}`},tx="1.0.0",Lg=1e4,nx=1e3;var Hi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hi||(Hi={}));var lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lt||(lt={}));var It;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(It||(It={}));var Mu;(function(e){e.websocket="websocket"})(Mu||(Mu={}));var Kn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Kn||(Kn={}));class ix{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(t.slice(u,u+o));u=u+o;const d=r.decode(t.slice(u,u+a));u=u+a;const p=JSON.parse(r.decode(t.slice(u,t.byteLength)));return{ref:null,topic:h,event:d,payload:p}}}class Tg{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(de||(de={}));const Pf=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,u)=>(a[u]=rx(u,e,t,o),a),{})},rx=(e,t,n,r)=>{const o=t.find(h=>h.name===e),a=o==null?void 0:o.type,u=n[e];return a&&!r.includes(a)?bg(a,u):Au(u)},bg=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return lx(t,n)}switch(e){case de.bool:return sx(t);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return ox(t);case de.json:case de.jsonb:return ax(t);case de.timestamp:return ux(t);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return Au(t);default:return Au(t)}},Au=e=>e,sx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ox=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ax=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},lx=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const u=e.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>bg(t,h))}return e},ux=e=>typeof e=="string"?e.replace(" ","T"):e,Og=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Il{constructor(t,n,r={},o=Lg){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ef;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ef||(Ef={}));class Vr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vr.syncState(this.state,o,a,u),this.pendingDiffs.forEach(d=>{this.state=Vr.syncDiff(this.state,d,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Vr.syncDiff(this.state,o,a,u),h())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const a=this.cloneDeep(t),u=this.transformState(n),h={},d={};return this.map(a,(p,m)=>{u[p]||(d[p]=m)}),this.map(u,(p,m)=>{const _=a[p];if(_){const v=m.map(j=>j.presence_ref),P=_.map(j=>j.presence_ref),T=m.filter(j=>P.indexOf(j.presence_ref)<0),E=_.filter(j=>v.indexOf(j.presence_ref)<0);T.length>0&&(h[p]=T),E.length>0&&(d[p]=E)}else h[p]=m}),this.syncDiff(a,{joins:h,leaves:d},r,o)}static syncDiff(t,n,r,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(h,d)=>{var p;const m=(p=t[h])!==null&&p!==void 0?p:[];if(t[h]=this.cloneDeep(d),m.length>0){const _=t[h].map(P=>P.presence_ref),v=m.filter(P=>_.indexOf(P.presence_ref)<0);t[h].unshift(...v)}r(h,m,d)}),this.map(u,(h,d)=>{let p=t[h];if(!p)return;const m=d.map(_=>_.presence_ref);p=p.filter(_=>m.indexOf(_.presence_ref)<0),t[h]=p,o(h,p,d),p.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Cf||(Cf={}));var Lf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lf||(Lf={}));var Yt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yt||(Yt={}));class $c{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Il(this,It.join,this.params,this.timeout),this.rejoinTimer=new Tg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Vr(this),this.broadcastEndpointURL=Og(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:u,private:h}}=this.params;this._onError(m=>t==null?void 0:t(Yt.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Yt.CLOSED));const d={},p={broadcast:a,presence:u,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var _;if(this.socket.setAuth(),m===void 0){t==null||t(Yt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,P=(_=v==null?void 0:v.length)!==null&&_!==void 0?_:0,T=[];for(let E=0;E<P;E++){const j=v[E],{filter:{event:x,schema:y,table:S,filter:b}}=j,A=m&&m[E];if(A&&A.event===x&&A.schema===y&&A.table===S&&A.filter===b)T.push(Object.assign(Object.assign({},j),{id:A.id}));else{this.unsubscribe(),t==null||t(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(Yt.SUBSCRIBED);return}}).receive("error",m=>{t==null||t(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:u}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,d;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const o=new Il(this,It.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Il(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,a;const u=t.toLocaleLowerCase(),{close:h,error:d,leave:p,join:m}=It;if(r&&[h,d,p,m].indexOf(u)>=0&&r!==this._joinRef())return;let v=this._onMessage(u,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(P=>{var T,E,j;return((T=P.filter)===null||T===void 0?void 0:T.event)==="*"||((j=(E=P.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(P=>P.callback(v,r)):(a=this.bindings[u])===null||a===void 0||a.filter(P=>{var T,E,j,x,y,S;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in P){const b=P.id,A=(T=P.filter)===null||T===void 0?void 0:T.event;return b&&((E=n.ids)===null||E===void 0?void 0:E.includes(b))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const b=(y=(x=P==null?void 0:P.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return b==="*"||b===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return P.type.toLocaleLowerCase()===u}).map(P=>{if(typeof v=="object"&&"ids"in v){const T=v.data,{schema:E,table:j,commit_timestamp:x,type:y,errors:S}=T;v=Object.assign(Object.assign({},{schema:E,table:j,commit_timestamp:x,eventType:y,new:{},old:{},errors:S}),this._getPayloadRecords(T))}P.callback(v,r)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&$c.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(It.close,{},t)}_onError(t){this._on(It.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Pf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Pf(t.columns,t.old_record)),n}}const cx=()=>{},hx=typeof WebSocket<"u",dx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fx{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ex,this.params={},this.timeout=Lg,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=cx,this.conn=null,this.sendBuffer=[],this.serializer=new ix,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let u;return a?u=a:typeof fetch>"u"?u=(...h)=>Xi(async()=>{const{default:d}=await Promise.resolve().then(()=>sr);return{default:d}},void 0).then(({default:d})=>d(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${t}/${Mu.websocket}`,this.httpEndpoint=Og(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,u)=>u(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Tg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(hx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new px(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Xi(async()=>{const{default:t}=await import("./browser-Ba5f5xXF.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tx}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hi.connecting:return Kn.Connecting;case Hi.open:return Kn.Open;case Hi.closing:return Kn.Closing;default:return Kn.Closed}}isConnected(){return this.connectionState()===Kn.Open}channel(t,n={config:{}}){const r=new $c(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:o,ref:a}=t,u=()=>{this.encode(t,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(It.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(nx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:a,ref:u}=n;u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${o} ${u&&"("+u+")"||""}`,a),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(o,a,u)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(It.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([dx],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class px{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Hi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Uc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Re(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class mx extends Uc{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ru extends Uc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var gx=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(r.next(m))}catch(_){u(_)}}function d(m){try{p(r.throw(m))}catch(_){u(_)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((r=r.apply(e,t||[])).next())})};const Ng=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xi(async()=>{const{default:r}=await Promise.resolve().then(()=>sr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_x=()=>gx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xi(()=>Promise.resolve().then(()=>sr),void 0)).Response:Response}),zu=e=>{if(Array.isArray(e))return e.map(n=>zu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=zu(r)}),t};var ci=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(r.next(m))}catch(_){u(_)}}function d(m){try{p(r.throw(m))}catch(_){u(_)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((r=r.apply(e,t||[])).next())})};const jl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vx=(e,t,n)=>ci(void 0,void 0,void 0,function*(){const r=yield _x();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{t(new mx(jl(o),e.status||500))}).catch(o=>{t(new Ru(jl(o),o))}):t(new Ru(jl(e),e))}),yx=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function Ps(e,t,n,r,o,a){return ci(this,void 0,void 0,function*(){return new Promise((u,h)=>{e(n,yx(t,r,o,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>vx(d,h,r))})})}function Qo(e,t,n,r){return ci(this,void 0,void 0,function*(){return Ps(e,"GET",t,n,r)})}function vn(e,t,n,r,o){return ci(this,void 0,void 0,function*(){return Ps(e,"POST",t,r,o,n)})}function wx(e,t,n,r,o){return ci(this,void 0,void 0,function*(){return Ps(e,"PUT",t,r,o,n)})}function xx(e,t,n,r){return ci(this,void 0,void 0,function*(){return Ps(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ig(e,t,n,r,o){return ci(this,void 0,void 0,function*(){return Ps(e,"DELETE",t,r,o,n)})}var tt=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(r.next(m))}catch(_){u(_)}}function d(m){try{p(r.throw(m))}catch(_){u(_)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((r=r.apply(e,t||[])).next())})};const kx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sx{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Ng(o)}uploadOrUpdate(t,n,r,o){return tt(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Tf),o);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(n),m=this._getFinalPath(p),_=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:t,body:a,headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{})),v=yield _.json();return _.ok?{data:{path:p,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(a){if(Re(a))return{data:null,error:a};throw a}})}upload(t,n,r){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return tt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),u=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let d;const p=Object.assign({upsert:Tf.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",p.cacheControl)):(d=r,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const _=yield this.fetch(h.toString(),{method:"PUT",body:d,headers:m}),v=yield _.json();return _.ok?{data:{path:a,fullPath:v.Key},error:null}:{data:null,error:v}}catch(d){if(Re(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return tt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield vn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+a.url),h=u.searchParams.get("token");if(!h)throw new Uc("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:h},error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}update(t,n,r){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return tt(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Re(o))return{data:null,error:o};throw o}})}copy(t,n,r){return tt(this,void 0,void 0,function*(){try{return{data:{path:(yield vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Re(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return tt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),a=yield vn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(Re(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return tt(this,void 0,void 0,function*(){try{const o=yield vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(Re(o))return{data:null,error:o};throw o}})}download(t,n){return tt(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"";try{const h=this._getFinalPath(t);return{data:yield(yield Qo(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Re(h))return{data:null,error:h};throw h}})}info(t){return tt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Qo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:zu(r),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}exists(t){return tt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield xx(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Re(r)&&r instanceof Ru){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&o.push(d);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(t){return tt(this,void 0,void 0,function*(){try{return{data:yield Ig(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}list(t,n,r){return tt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},kx),n),{prefix:t||""});return{data:yield vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Re(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Px="2.7.1",Ex={"X-Client-Info":`storage-js/${Px}`};var Si=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(r.next(m))}catch(_){u(_)}}function d(m){try{p(r.throw(m))}catch(_){u(_)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((r=r.apply(e,t||[])).next())})};class Cx{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Ex),n),this.fetch=Ng(r)}listBuckets(){return Si(this,void 0,void 0,function*(){try{return{data:yield Qo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Re(t))return{data:null,error:t};throw t}})}getBucket(t){return Si(this,void 0,void 0,function*(){try{return{data:yield Qo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Si(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Si(this,void 0,void 0,function*(){try{return{data:yield wx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Si(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Si(this,void 0,void 0,function*(){try{return{data:yield Ig(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}}class Lx extends Cx{constructor(t,n={},r){super(t,n,r)}from(t){return new Sx(this.url,this.headers,t,this.fetch)}}const Tx="2.48.1";let Rr="";typeof Deno<"u"?Rr="deno":typeof document<"u"?Rr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rr="react-native":Rr="node";const bx={"X-Client-Info":`supabase-js-${Rr}/${Tx}`},Ox={headers:bx},Nx={schema:"public"},Ix={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jx={};var Mx=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(r.next(m))}catch(_){u(_)}}function d(m){try{p(r.throw(m))}catch(_){u(_)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((r=r.apply(e,t||[])).next())})};const Ax=e=>{let t;return e?t=e:typeof fetch>"u"?t=gg:t=fetch,(...n)=>t(...n)},Rx=()=>typeof Headers>"u"?_g:Headers,zx=(e,t,n)=>{const r=Ax(n),o=Rx();return(a,u)=>Mx(void 0,void 0,void 0,function*(){var h;const d=(h=yield t())!==null&&h!==void 0?h:e;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},u),{headers:p}))})};var Dx=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(r.next(m))}catch(_){u(_)}}function d(m){try{p(r.throw(m))}catch(_){u(_)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((r=r.apply(e,t||[])).next())})};function Bx(e){return e.replace(/\/$/,"")}function $x(e,t){const{db:n,auth:r,realtime:o,global:a}=e,{db:u,auth:h,realtime:d,global:p}=t,m={db:Object.assign(Object.assign({},u),n),auth:Object.assign(Object.assign({},h),r),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign({},p),a),accessToken:()=>Dx(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const jg="2.67.3",Ux="http://localhost:9999",Fx="supabase.auth.token",Zx={"X-Client-Info":`gotrue-js/${jg}`},bf=10,Du="X-Supabase-Api-Version",Mg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Hx(e){return Math.round(Date.now()/1e3)+e}function Wx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ft=()=>typeof window<"u"&&typeof document<"u",Wn={tested:!1,writable:!1},Gr=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wn.tested)return Wn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wn.tested=!0,Wn.writable=!0}catch{Wn.tested=!0,Wn.writable=!1}return Wn.writable};function Vx(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{t[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const Ag=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xi(async()=>{const{default:r}=await Promise.resolve().then(()=>sr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Gx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rg=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},lo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},uo=async(e,t)=>{await e.removeItem(t)};function qx(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,o,a,u,h,d,p,m=0;for(e=e.replace("-","+").replace("_","/");m<e.length;)u=t.indexOf(e.charAt(m++)),h=t.indexOf(e.charAt(m++)),d=t.indexOf(e.charAt(m++)),p=t.indexOf(e.charAt(m++)),r=u<<2|h>>4,o=(h&15)<<4|d>>2,a=(d&3)<<6|p,n=n+String.fromCharCode(r),d!=64&&o!=0&&(n=n+String.fromCharCode(o)),p!=64&&a!=0&&(n=n+String.fromCharCode(a));return n}class Sa{constructor(){this.promise=new Sa.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Sa.promiseConstructor=Promise;function Of(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(qx(r))}async function Kx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Jx(e,t){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await e(a);if(!t(a,null,u)){r(u);return}}catch(u){if(!t(a,u)){o(u);return}}})()})}function Qx(e){return("0"+e.toString(16)).substr(-2)}function Yx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,Qx).join("")}async function Xx(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}function ek(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Xx(e);return ek(n)}async function Pi(e,t,n=!1){const r=Yx();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Rg(e,`${t}-code-verifier`,o);const a=await tk(r);return[a,r===a?"plain":"s256"]}const nk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ik(e){const t=e.headers.get(Du);if(!t||!t.match(nk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Fc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rk extends Fc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function sk(e){return Y(e)&&e.name==="AuthApiError"}class zg extends Fc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class hi extends Fc{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class pn extends hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ok(e){return Y(e)&&e.name==="AuthSessionMissingError"}class Ml extends hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class co extends hi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ho extends hi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ak(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class Nf extends hi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bu extends hi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Al(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class If extends hi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var lk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const qn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uk=[502,503,504];async function jf(e){var t;if(!Gx(e))throw new Bu(qn(e),0);if(uk.includes(e.status))throw new Bu(qn(e),e.status);let n;try{n=await e.json()}catch(a){throw new zg(qn(a),a)}let r;const o=ik(e);if(o&&o.getTime()>=Mg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new If(qn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new If(qn(n),e.status,n.weak_password.reasons);throw new rk(qn(n),e.status||500,r)}const ck=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function ne(e,t,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[Du]||(a[Du]=Mg["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await hk(e,t,n+h,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function hk(e,t,n,r,o,a){const u=ck(t,r,o,a);let h;try{h=await e(n,Object.assign({},u))}catch(d){throw console.error(d),new Bu(qn(d),0)}if(h.ok||await jf(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(d){await jf(d)}}function mn(e){var t;let n=null;mk(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Hx(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Mf(e){const t=mn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dk(e){return{data:e,error:null}}function fk(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=e,u=lk(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},d=Object.assign({},u);return{data:{properties:h,user:d},error:null}}function pk(e){return e}function mk(e){return e.access_token&&e.refresh_token&&e.expires_in}var gk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class _k{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Ag(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=gk(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:fk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Y(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,a,u,h,d;try{const p={nextPage:null,lastPage:0,total:0},m=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:pk});if(m.error)throw m.error;const _=await m.json(),v=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,P=(d=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return P.length>0&&(P.forEach(T=>{const E=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(T.split(";")[1].split("=")[1]);p[`${j}Page`]=E}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(Y(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}}const vk={getItem:e=>Gr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Gr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Gr()&&globalThis.localStorage.removeItem(e)}};function Af(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function yk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ei={debug:!!(globalThis&&Gr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wk extends Dg{}async function xk(e,t,n){Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ei.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}yk();const kk={url:Ux,storageKey:Fx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Nr=30*1e3,Rf=3;async function zf(e,t,n){return await n()}class ps{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ps.nextInstanceID,ps.nextInstanceID+=1,this.instanceID>0&&Ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},kk),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new _k({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ag(o.fetch),this.lock=o.lock||zf,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ft()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=xk:this.lock=zf,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Gr()?this.storage=vk:(this.memoryStorage={},this.storage=Af(this.memoryStorage)):(this.memoryStorage={},this.storage=Af(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Vx(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ft()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),ak(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Y(n)?{error:n}:{error:new zg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const a=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:mn}),{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,o;try{let a;if("email"in t){const{email:m,password:_,options:v}=t;let P=null,T=null;this.flowType==="pkce"&&([P,T]=await Pi(this.storage,this.storageKey)),a=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:m,password:_,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:P,code_challenge_method:T},xform:mn})}else if("phone"in t){const{phone:m,password:_,options:v}=t;a=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:_,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:mn})}else throw new co("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:u,options:h}=t;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Mf})}else if("phone"in t){const{phone:a,password:u,options:h}=t;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Mf})}else throw new co("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ml}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await lo(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:u}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:mn});if(await uo(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ml}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(Y(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:a,nonce:u}=t,h=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mn}),{data:d,error:p}=h;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ml}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,a,u;try{if("email"in t){const{email:h,options:d}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Pi(this.storage,this.storageKey));const{error:_}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in t){const{phone:h,options:d}=t,{data:p,error:m}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=d==null?void 0:d.data)!==null&&o!==void 0?o:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(u=d==null?void 0:d.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:m}}throw new co("You must provide either an email or phone number.")}catch(h){if(Y(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,r;try{let o,a;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:mn});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,p=u.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(o){if(Y(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await Pi(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:dk})}catch(a){if(Y(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new pn;const{error:o}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:a}=t,{error:u}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:r,type:o,options:a}=t,{data:u,error:h}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new co("You must provide either an email or phone number and a type")}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await lo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,p,m)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,p,m))})}return{data:{session:t},error:null}}const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xn}):await this._useSession(async n=>{var r,o,a;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:xn})})}catch(n){if(Y(n))return ok(n)&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new pn;const u=o.session;let h=null,d=null;this.flowType==="pkce"&&t.email!=null&&([h,d]=await Pi(this.storage,this.storageKey));const{data:p,error:m}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:d}),jwt:u.access_token,xform:xn});if(m)throw m;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Of(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pn;const n=Date.now()/1e3;let r=n,o=!0,a=null;const u=Of(t.access_token);if(u.exp&&(r=u.exp,o=r<=n),o){const{session:h,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Y(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:u,error:h}=n;if(h)throw h;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new pn;const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ft())throw new ho("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ho(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Nf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ho("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Nf("No code detected.");const{data:y,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:h,expires_at:d,token_type:p}=t;if(!a||!h||!u||!p)throw new ho("No session defined in URL");const m=Math.round(Date.now()/1e3),_=parseInt(h);let v=m+_;d&&(v=parseInt(d));const P=v-m;P*1e3<=Nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${P}s, should have been closer to ${_}s`);const T=v-_;m-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,v,m):m-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,v,m);const{data:E,error:j}=await this._getUser(a);if(j)throw j;const x={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:_,expires_at:v,refresh_token:u,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(Y(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await lo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{error:a};const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(sk(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Wx(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Pi(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Y(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var u,h,d,p,m;const{data:_,error:v}=a;if(v)throw v;const P=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",P,{headers:this.headers,jwt:(m=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Ft()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Y(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)throw u;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Jx(async o=>(o>0&&await Kx(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mn})),(o,a)=>{const u=200*Math.pow(2,o);return a&&Al(a)&&Date.now()+u-r<Nr})}catch(r){if(this._debug(n,"error",r),Y(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ft()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await lo(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const o=Math.round(Date.now()/1e3),a=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<o+bf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${bf}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:u}=await this._callRefreshToken(r.refresh_token);u&&(console.error(u),Al(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Sa;const{data:a,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!a.session)throw new pn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),Y(a)){const u={session:null,error:a};return Al(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Rg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await uo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Nr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Nr}ms, refresh threshold is ${Rf} ticks`),o<=Rf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Dg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await Pi(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:p}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:u,error:h}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(Y(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Y(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],o=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const u=this._decodeJWT(o.access_token);let h=null;u.aal&&(h=u.aal);let d=h;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=u.amr||[];return{data:{currentLevel:h,nextLevel:d,currentAuthenticationMethods:m},error:null}}))}}ps.nextInstanceID=0;const Sk=ps;class Pk extends Sk{constructor(t){super(t)}}var Ek=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(r.next(m))}catch(_){u(_)}}function d(m){try{p(r.throw(m))}catch(_){u(_)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((r=r.apply(e,t||[])).next())})};class Ck{constructor(t,n,r){var o,a,u;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=Bx(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:Nx,realtime:jx,auth:Object.assign(Object.assign({},Ix),{storageKey:d}),global:Ox},m=$x(r??{},p);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(_,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=m.auth)!==null&&u!==void 0?u:{},this.headers,m.global.fetch),this.fetch=zx(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new Y1(`${h}/rest/v1`,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new T1(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Lx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Ek(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:a,flowType:u,lock:h,debug:d},p,m){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pk({url:this.authUrl,headers:Object.assign(Object.assign({},_),p),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:u,lock:h,debug:d,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new fx(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Lk=(e,t,n)=>new Ck(e,t,n),Tk="https://epljqtwuluoevtcculfq.supabase.co",bk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwbGpxdHd1bHVvZXZ0Y2N1bGZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkwODU5NTEsImV4cCI6MjA1NDY2MTk1MX0.P0HcERwpyyg7IV3MwEivIpiqWiD4wU9wx_KCKbLNa2M",wt=Lk(Tk,bk),di=w1((e,t)=>({user:null,isAuthenticated:!1,setUser:n=>e({user:n,isAuthenticated:!!n}),login:async(n,r)=>{try{const{data:{user:o},error:a}=await wt.auth.signInWithPassword({email:n,password:r});if(a)throw a.message.includes("Invalid login credentials")?new Error("Invalid email or password. Please try again."):a;if(!o)throw new Error("No user data returned after login");const{data:u,error:h}=await wt.from("profiles").select("*").eq("id",o.id).single();if(h)throw console.error("Error fetching profile:",h),new Error("Error loading user profile");if(!u)throw new Error("User profile not found");e({user:{id:o.id,email:o.email,name:u.name,phone:u.phone,walletBalance:u.wallet_balance||0},isAuthenticated:!0})}catch(o){throw console.error("Login error:",o),new Error(o.message||"An error occurred during login")}},signup:async(n,r)=>{try{const{data:{user:o},error:a}=await wt.auth.signUp({email:n,password:r,options:{emailRedirectTo:window.location.origin}});if(a)throw a.message.includes("User already registered")?new Error("An account with this email already exists. Please log in instead."):a;if(!o)throw new Error("No user data returned after signup");const{data:u,error:h}=await wt.from("profiles").insert([{id:o.id,email:o.email,wallet_balance:0}]).select().single();if(h)throw console.error("Error creating profile:",h),new Error("Error creating user profile");e({user:{id:o.id,email:o.email,name:null,phone:null,walletBalance:0},isAuthenticated:!0})}catch(o){throw console.error("Signup error:",o),new Error(o.message||"An error occurred during signup")}},logout:async()=>{try{const{error:n}=await wt.auth.signOut();if(n)throw n;e({user:null,isAuthenticated:!1})}catch(n){throw console.error("Logout error:",n),new Error("Error during logout")}},addFunds:async n=>{const r=t().user;if(!r)throw new Error("User not authenticated");try{const{data:o,error:a}=await wt.from("profiles").select("wallet_balance").eq("id",r.id).single();if(a)throw a;if(!o)throw new Error("User profile not found");const u=o.wallet_balance+n,{error:h}=await wt.from("profiles").update({wallet_balance:u}).eq("id",r.id);if(h)throw h;e(d=>({user:d.user?{...d.user,walletBalance:u}:null}))}catch(o){throw console.error("Add funds error:",o),new Error(o.message||"An error occurred while adding funds.")}}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ok={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ke=(e,t)=>{const n=N.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:h="",children:d,...p},m)=>N.createElement("svg",{ref:m,...Ok,width:o,height:o,stroke:r,strokeWidth:u?Number(a)*24/Number(o):a,className:["lucide",`lucide-${Nk(e)}`,h].join(" "),...p},[...t.map(([_,v])=>N.createElement(_,v)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=ke("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=ke("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=ke("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=ke("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=ke("Locate",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ke("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=ke("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=ke("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=ke("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=ke("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=ke("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=ke("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Kk=()=>{const{isAuthenticated:e,user:t}=di();return w.jsx("nav",{className:"bg-white shadow-lg",children:w.jsx("div",{className:"container mx-auto px-4",children:w.jsxs("div",{className:"flex justify-between items-center h-16",children:[w.jsxs(br,{to:"/",className:"flex items-center space-x-2",children:[w.jsx(qk,{className:"w-8 h-8 text-green-500"}),w.jsx("span",{className:"text-xl font-bold",children:"EV Charger"})]}),w.jsx("div",{className:"flex items-center space-x-4",children:e?w.jsxs(w.Fragment,{children:[w.jsxs(br,{to:"/add-charger",className:"flex items-center space-x-2 text-gray-700 hover:text-green-500",children:[w.jsx(Bg,{className:"w-5 h-5"}),w.jsx("span",{children:"Add Charger"})]}),w.jsxs(br,{to:"/wallet",className:"flex items-center space-x-2 text-gray-700 hover:text-green-500",children:[w.jsx(Ug,{className:"w-5 h-5"}),w.jsxs("span",{children:["$",t==null?void 0:t.walletBalance.toFixed(2)]})]}),w.jsxs(br,{to:"/profile",className:"flex items-center space-x-2 text-gray-700 hover:text-green-500",children:[w.jsx($g,{className:"w-5 h-5"}),w.jsx("span",{children:(t==null?void 0:t.name)||"Profile"})]})]}):w.jsx(br,{to:"/login",className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:"Login"})})]})})})},Jk=()=>w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx(Kk,{}),w.jsx("main",{className:"container mx-auto px-4 py-8",children:w.jsx(Aw,{})})]}),Qk=()=>{const e=ks(),{isAuthenticated:t}=di(),n=()=>{if(!t){e("/login");return}e("/stations")},r=()=>{if(!t){e("/login");return}e("/stations")};return w.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-4rem)]",children:w.jsxs("div",{className:"text-center max-w-2xl",children:[w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx(ms,{className:"w-16 h-16 text-green-500"})}),w.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Find EV Chargers Near You"}),w.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Locate, reserve, and navigate to EV charging stations in your area."}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("button",{onClick:n,className:"bg-green-500 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-green-600 transition-colors w-full active:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Find Nearest Charger"}),w.jsx("button",{onClick:r,className:"border-2 border-green-500 text-green-500 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-green-50 transition-colors w-full active:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"View All Stations"})]})]})})},Yk=()=>{const e=ks(),{login:t,signup:n}=di(),[r,o]=N.useState(!0),[a,u]=N.useState(""),[h,d]=N.useState(""),[p,m]=N.useState(""),[_,v]=N.useState(!1),P=async x=>{x.preventDefault(),m(""),v(!0);try{r?await t(a,h):await n(a,h),e("/")}catch(y){m((y==null?void 0:y.message)||"An error occurred. Please try again.")}finally{v(!1)}},T=x=>x.length<6?"Password must be at least 6 characters long":"",E=x=>{const y=x.target.value;if(d(y),!r){const S=T(y);m(S||"")}},j=()=>{o(!r),m(""),u(""),d("")};return w.jsx("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl mt-10",children:w.jsxs("div",{className:"p-8",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Welcome Back":"Create Account"}),w.jsx("p",{className:"text-gray-600 mt-2",children:r?"Sign in to access your account":"Sign up to start finding chargers"})]}),p&&w.jsxs("div",{className:"mb-4 p-4 bg-red-50 rounded-lg flex items-center text-red-600",children:[w.jsx(ti,{className:"w-5 h-5 mr-2 flex-shrink-0"}),w.jsx("span",{children:p})]}),w.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg flex items-start text-blue-600",children:[w.jsx(Bk,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),w.jsxs("div",{className:"text-sm",children:[w.jsx("p",{className:"font-semibold mb-1",children:"Test Account:"}),w.jsx("p",{children:"Email: test@example.com"}),w.jsx("p",{children:"Password: password123"})]})]}),w.jsxs("form",{onSubmit:P,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),w.jsxs("div",{className:"mt-1 relative",children:[w.jsx("input",{type:"email",value:a,onChange:x=>u(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Enter your email",required:!0}),w.jsx(Zk,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),w.jsxs("div",{className:"mt-1 relative",children:[w.jsx("input",{type:"password",value:h,onChange:E,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:r?"Enter your password":"Create a password (min. 6 characters)",required:!0,minLength:6}),w.jsx(Fk,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),w.jsx("button",{type:"submit",disabled:_||!r&&h.length<6,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-500 hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Please wait...":r?"Sign In":"Create Account"})]}),w.jsx("div",{className:"mt-6 text-center",children:w.jsx("button",{onClick:j,className:"text-sm text-green-600 hover:text-green-500",children:r?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},Xk=()=>{const{user:e,logout:t}=di();return e?w.jsx("div",{className:"max-w-4xl mx-auto",children:w.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:w.jsxs("div",{className:"p-8",children:[w.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[w.jsx("div",{className:"bg-green-100 p-4 rounded-full",children:w.jsx($g,{className:"w-8 h-8 text-green-500"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.name||"User Profile"}),w.jsx("p",{className:"text-gray-600",children:e.email})]})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx(Vk,{className:"w-6 h-6 text-gray-500"}),w.jsx("span",{className:"text-gray-700",children:"Account Settings"})]}),w.jsx("button",{className:"text-green-500 hover:text-green-600",children:"Edit"})]}),w.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-red-500 hover:text-red-600",children:[w.jsx(Wk,{className:"w-5 h-5"}),w.jsx("span",{children:"Logout"})]})]})]})})}):null},eS=()=>{const{user:e,addFunds:t}=di(),[n,r]=N.useState(""),[o,a]=N.useState(!1),[u,h]=N.useState(null),[d,p]=N.useState(null),m=async()=>{h(null),p(null);const _=parseFloat(n);if(isNaN(_)||_<=0){h("Please enter a valid amount greater than zero.");return}a(!0);try{await t(_),p("Funds added successfully!"),r("")}catch(v){h(v.message||"An error occurred while adding funds.")}finally{a(!1)}};return e?w.jsx("div",{className:"max-w-4xl mx-auto",children:w.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:w.jsxs("div",{className:"p-8",children:[w.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[w.jsx("div",{className:"bg-green-100 p-4 rounded-full",children:w.jsx(Ug,{className:"w-8 h-8 text-green-500"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Wallet"}),w.jsx("p",{className:"text-gray-600",children:"Manage your funds"})]})]}),w.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white mb-8",children:[w.jsx("p",{className:"text-sm opacity-80",children:"Current Balance"}),w.jsxs("p",{className:"text-3xl font-bold",children:["$",e.walletBalance.toFixed(2)]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("input",{type:"number",value:n,onChange:_=>r(_.target.value),placeholder:"Enter amount",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",min:"0.01",step:"0.01"}),w.jsxs("button",{onClick:m,disabled:o,className:"flex items-center justify-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[w.jsx(Rk,{className:"w-5 h-5"}),w.jsx("span",{children:"Add Funds"})]})]}),u&&w.jsxs("div",{className:"mb-4 p-4 bg-red-50 rounded-lg flex items-center text-red-600",children:[w.jsx(ti,{className:"w-5 h-5 mr-2 flex-shrink-0"}),w.jsx("span",{children:u})]}),d&&w.jsxs("div",{className:"mb-4 p-4 bg-green-50 rounded-lg flex items-center text-green-600",children:[w.jsx(ti,{className:"w-5 h-5 mr-2 flex-shrink-0"}),w.jsx("span",{children:d})]}),w.jsxs("div",{className:"border-t pt-6 mt-6",children:[w.jsxs("div",{className:"flex items-center space-x-2 text-gray-700 mb-4",children:[w.jsx(Dk,{className:"w-5 h-5"}),w.jsx("h2",{className:"text-lg font-semibold",children:"Recent Transactions"})]}),w.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent transactions"})]})]})]})})}):null};function Fg(e,t){const n=N.useRef(t);N.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const tS=1;function nS(e){return Object.freeze({__version:tS,map:e})}function iS(e,t){return Object.freeze({...e,...t})}const Zg=N.createContext(null),Hg=Zg.Provider;function Wg(){const e=N.useContext(Zg);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function rS(e){function t(n,r){const{instance:o,context:a}=e(n).current;return N.useImperativeHandle(r,()=>o),n.children==null?null:qr.createElement(Hg,{value:a},n.children)}return N.forwardRef(t)}function sS(e){function t(n,r){const[o,a]=N.useState(!1),{instance:u}=e(n,a).current;N.useImperativeHandle(r,()=>u),N.useEffect(function(){o&&u.update()},[u,o,n.children]);const h=u._contentNode;return h?Ym.createPortal(n.children,h):null}return N.forwardRef(t)}function oS(e){function t(n,r){const{instance:o}=e(n).current;return N.useImperativeHandle(r,()=>o),null}return N.forwardRef(t)}function Vg(e,t){const n=N.useRef();N.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Zc(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function aS(e,t){return function(r,o){const a=Wg(),u=e(Zc(r,a),a);return Fg(a.map,r.attribution),Vg(u.current,r.eventHandlers),t(u.current,a,r,o),u}}var $u={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(dt,function(n){var r="1.9.4";function o(i){var s,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(s in f)i[s]=f[s]}return i}var a=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function u(i,s){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var c=l.call(arguments,2);return function(){return i.apply(s,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function p(i,s,l){var c,f,g,k;return k=function(){c=!1,f&&(g.apply(l,f),f=!1)},g=function(){c?f=arguments:(i.apply(l,arguments),setTimeout(k,s),c=!0)},g}function m(i,s,l){var c=s[1],f=s[0],g=c-f;return i===c&&l?i:((i-f)%g+g)%g+f}function _(){return!1}function v(i,s){if(s===!1)return i;var l=Math.pow(10,s===void 0?6:s);return Math.round(i*l)/l}function P(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function T(i){return P(i).split(/\s+/)}function E(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var l in s)i.options[l]=s[l];return i.options}function j(i,s,l){var c=[];for(var f in i)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function y(i,s){return i.replace(x,function(l,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(s)),f})}var S=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function b(i,s){for(var l=0;l<i.length;l++)if(i[l]===s)return l;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var $=0;function F(i){var s=+new Date,l=Math.max(0,16-(s-$));return $=s+l,window.setTimeout(i,l)}var ce=window.requestAnimationFrame||D("RequestAnimationFrame")||F,K=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function ue(i,s,l){if(l&&ce===F)i.call(s);else return ce.call(window,u(i,s))}function Ee(i){i&&K.call(window,i)}var H={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:d,throttle:p,wrapNum:m,falseFn:_,formatNum:v,trim:P,splitWords:T,setOptions:E,getParamString:j,template:y,isArray:S,indexOf:b,emptyImageUrl:A,requestFn:ce,cancelFn:K,requestAnimFrame:ue,cancelAnimFrame:Ee};function ge(){}ge.extend=function(i){var s=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=s.__super__=this.prototype,c=a(l);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return i.statics&&o(s,i.statics),i.includes&&(gt(i.includes),o.apply(null,[c].concat(i.includes))),o(c,i),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},o(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,k=c._initHooks.length;g<k;g++)c._initHooks[g].call(this)}},s},ge.include=function(i){var s=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this},ge.mergeOptions=function(i){return o(this.prototype.options,i),this},ge.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function gt(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=S(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Se={on:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s);else{i=T(i);for(var f=0,g=i.length;f<g;f++)this._on(i[f],s,l)}return this},off:function(i,s,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],s);else{i=T(i);for(var f=arguments.length===1,g=0,k=i.length;g<k;g++)f?this._off(i[g]):this._off(i[g],s,l)}return this},_on:function(i,s,l,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(i,s,l)===!1){l===this&&(l=void 0);var f={fn:s,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,s,l){var c,f,g;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,g=c.length;f<g;f++)c[f].fn=_;delete this._events[i];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var k=this._listens(i,s,l);if(k!==!1){var C=c[k];this._firingCount&&(C.fn=_,this._events[i]=c=c.slice()),c.splice(k,1)}}},fire:function(i,s,l){if(!this.listens(i,l))return this;var c=o({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var g=0,k=f.length;g<k;g++){var C=f[g],O=C.fn;C.once&&this.off(i,O,C.ctx),O.call(C.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(i,s,l,c){typeof i!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,l=void 0);var g=this._events&&this._events[i];if(g&&g.length&&this._listens(i,f,l)!==!1)return!0;if(c){for(var k in this._eventParents)if(this._eventParents[k].listens(i,s,l,c))return!0}return!1},_listens:function(i,s,l){if(!this._events)return!1;var c=this._events[i]||[];if(!s)return!!c.length;l===this&&(l=void 0);for(var f=0,g=c.length;f<g;f++)if(c[f].fn===s&&c[f].ctx===l)return f;return!1},once:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s,!0);else{i=T(i);for(var f=0,g=i.length;f<g;f++)this._on(i[f],s,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};Se.addEventListener=Se.on,Se.removeEventListener=Se.clearAllEventListeners=Se.off,Se.addOneTimeEventListener=Se.once,Se.fireEvent=Se.fire,Se.hasEventListeners=Se.listens;var Ye=ge.extend(Se);function I(i,s,l){this.x=l?Math.round(i):i,this.y=l?Math.round(s):s}var V=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(i){return this.clone()._add(z(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(z(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new I(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new I(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=V(this.x),this.y=V(this.y),this},distanceTo:function(i){i=z(i);var s=i.x-this.x,l=i.y-this.y;return Math.sqrt(s*s+l*l)},equals:function(i){return i=z(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=z(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function z(i,s,l){return i instanceof I?i:S(i)?new I(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new I(i.x,i.y):new I(i,s,l)}function G(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}G.prototype={extend:function(i){var s,l;if(!i)return this;if(i instanceof I||typeof i[0]=="number"||"x"in i)s=l=z(i);else if(i=te(i),s=i.min,l=i.max,!s||!l)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=l.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,l;return typeof i[0]=="number"||i instanceof I?i=z(i):i=te(i),i instanceof G?(s=i.min,l=i.max):s=l=i,s.x>=this.min.x&&l.x<=this.max.x&&s.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=te(i);var s=this.min,l=this.max,c=i.min,f=i.max,g=f.x>=s.x&&c.x<=l.x,k=f.y>=s.y&&c.y<=l.y;return g&&k},overlaps:function(i){i=te(i);var s=this.min,l=this.max,c=i.min,f=i.max,g=f.x>s.x&&c.x<l.x,k=f.y>s.y&&c.y<l.y;return g&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var s=this.min,l=this.max,c=Math.abs(s.x-l.x)*i,f=Math.abs(s.y-l.y)*i;return te(z(s.x-c,s.y-f),z(l.x+c,l.y+f))},equals:function(i){return i?(i=te(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function te(i,s){return!i||i instanceof G?i:new G(i,s)}function Ce(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}Ce.prototype={extend:function(i){var s=this._southWest,l=this._northEast,c,f;if(i instanceof re)c=i,f=i;else if(i instanceof Ce){if(c=i._southWest,f=i._northEast,!c||!f)return this}else return i?this.extend(q(i)||ae(i)):this;return!s&&!l?(this._southWest=new re(c.lat,c.lng),this._northEast=new re(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(i){var s=this._southWest,l=this._northEast,c=Math.abs(s.lat-l.lat)*i,f=Math.abs(s.lng-l.lng)*i;return new Ce(new re(s.lat-c,s.lng-f),new re(l.lat+c,l.lng+f))},getCenter:function(){return new re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new re(this.getNorth(),this.getWest())},getSouthEast:function(){return new re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof re||"lat"in i?i=q(i):i=ae(i);var s=this._southWest,l=this._northEast,c,f;return i instanceof Ce?(c=i.getSouthWest(),f=i.getNorthEast()):c=f=i,c.lat>=s.lat&&f.lat<=l.lat&&c.lng>=s.lng&&f.lng<=l.lng},intersects:function(i){i=ae(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),g=f.lat>=s.lat&&c.lat<=l.lat,k=f.lng>=s.lng&&c.lng<=l.lng;return g&&k},overlaps:function(i){i=ae(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),g=f.lat>s.lat&&c.lat<l.lat,k=f.lng>s.lng&&c.lng<l.lng;return g&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=ae(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ae(i,s){return i instanceof Ce?i:new Ce(i,s)}function re(i,s,l){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,l!==void 0&&(this.alt=+l)}re.prototype={equals:function(i,s){if(!i)return!1;i=q(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return un.distance(this,q(i))},wrap:function(){return un.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,l=s/Math.cos(Math.PI/180*this.lat);return ae([this.lat-s,this.lng-l],[this.lat+s,this.lng+l])},clone:function(){return new re(this.lat,this.lng,this.alt)}};function q(i,s,l){return i instanceof re?i:S(i)&&typeof i[0]!="object"?i.length===3?new re(i[0],i[1],i[2]):i.length===2?new re(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new re(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new re(i,s,l)}var Xe={latLngToPoint:function(i,s){var l=this.projection.project(i),c=this.scale(s);return this.transformation._transform(l,c)},pointToLatLng:function(i,s){var l=this.scale(s),c=this.transformation.untransform(i,l);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,l=this.scale(i),c=this.transformation.transform(s.min,l),f=this.transformation.transform(s.max,l);return new G(c,f)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?m(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?m(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new re(l,s,c)},wrapLatLngBounds:function(i){var s=i.getCenter(),l=this.wrapLatLng(s),c=s.lat-l.lat,f=s.lng-l.lng;if(c===0&&f===0)return i;var g=i.getSouthWest(),k=i.getNorthEast(),C=new re(g.lat-c,g.lng-f),O=new re(k.lat-c,k.lng-f);return new Ce(C,O)}},un=o({},Xe,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var l=Math.PI/180,c=i.lat*l,f=s.lat*l,g=Math.sin((s.lat-i.lat)*l/2),k=Math.sin((s.lng-i.lng)*l/2),C=g*g+Math.cos(c)*Math.cos(f)*k*k,O=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return this.R*O}}),Vc=6378137,Pa={R:Vc,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,i.lat),-l),f=Math.sin(c*s);return new I(this.R*i.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var s=180/Math.PI;return new re((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=Vc*Math.PI;return new G([-i,-i],[i,i])}()};function Ea(i,s,l,c){if(S(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=l,this._d=c}Ea.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new I((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function ar(i,s,l,c){return new Ea(i,s,l,c)}var Ca=o({},un,{code:"EPSG:3857",projection:Pa,transformation:function(){var i=.5/(Math.PI*Pa.R);return ar(i,.5,-i,.5)}()}),qg=o({},Ca,{code:"EPSG:900913"});function Gc(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function qc(i,s){var l="",c,f,g,k,C,O;for(c=0,g=i.length;c<g;c++){for(C=i[c],f=0,k=C.length;f<k;f++)O=C[f],l+=(f?"L":"M")+O.x+" "+O.y;l+=s?Z.svg?"z":"x":""}return l||"M0 0"}var La=document.documentElement.style,Cs="ActiveXObject"in window,Kg=Cs&&!document.addEventListener,Kc="msLaunchUri"in navigator&&!("documentMode"in document),Ta=zt("webkit"),Jc=zt("android"),Qc=zt("android 2")||zt("android 3"),Jg=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qg=Jc&&zt("Google")&&Jg<537&&!("AudioNode"in window),ba=!!window.opera,Yc=!Kc&&zt("chrome"),Xc=zt("gecko")&&!Ta&&!ba&&!Cs,Yg=!Yc&&zt("safari"),eh=zt("phantom"),th="OTransition"in La,Xg=navigator.platform.indexOf("Win")===0,nh=Cs&&"transition"in La,Oa="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qc,ih="MozPerspective"in La,e_=!window.L_DISABLE_3D&&(nh||Oa||ih)&&!th&&!eh,lr=typeof orientation<"u"||zt("mobile"),t_=lr&&Ta,n_=lr&&Oa,rh=!window.PointerEvent&&window.MSPointerEvent,sh=!!(window.PointerEvent||rh),oh="ontouchstart"in window||!!window.TouchEvent,i_=!window.L_NO_TOUCH&&(oh||sh),r_=lr&&ba,s_=lr&&Xc,o_=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,a_=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",_,s),window.removeEventListener("testPassiveEventSupport",_,s)}catch{}return i}(),l_=function(){return!!document.createElement("canvas").getContext}(),Na=!!(document.createElementNS&&Gc("svg").createSVGRect),u_=!!Na&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),c_=!Na&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),h_=navigator.platform.indexOf("Mac")===0,d_=navigator.platform.indexOf("Linux")===0;function zt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Z={ie:Cs,ielt9:Kg,edge:Kc,webkit:Ta,android:Jc,android23:Qc,androidStock:Qg,opera:ba,chrome:Yc,gecko:Xc,safari:Yg,phantom:eh,opera12:th,win:Xg,ie3d:nh,webkit3d:Oa,gecko3d:ih,any3d:e_,mobile:lr,mobileWebkit:t_,mobileWebkit3d:n_,msPointer:rh,pointer:sh,touch:i_,touchNative:oh,mobileOpera:r_,mobileGecko:s_,retina:o_,passiveEvents:a_,canvas:l_,svg:Na,vml:c_,inlineSvg:u_,mac:h_,linux:d_},ah=Z.msPointer?"MSPointerDown":"pointerdown",lh=Z.msPointer?"MSPointerMove":"pointermove",uh=Z.msPointer?"MSPointerUp":"pointerup",ch=Z.msPointer?"MSPointerCancel":"pointercancel",Ia={touchstart:ah,touchmove:lh,touchend:uh,touchcancel:ch},hh={touchstart:v_,touchmove:Ls,touchend:Ls,touchcancel:Ls},fi={},dh=!1;function f_(i,s,l){return s==="touchstart"&&__(),hh[s]?(l=hh[s].bind(this,l),i.addEventListener(Ia[s],l,!1),l):(console.warn("wrong event specified:",s),_)}function p_(i,s,l){if(!Ia[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(Ia[s],l,!1)}function m_(i){fi[i.pointerId]=i}function g_(i){fi[i.pointerId]&&(fi[i.pointerId]=i)}function fh(i){delete fi[i.pointerId]}function __(){dh||(document.addEventListener(ah,m_,!0),document.addEventListener(lh,g_,!0),document.addEventListener(uh,fh,!0),document.addEventListener(ch,fh,!0),dh=!0)}function Ls(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var l in fi)s.touches.push(fi[l]);s.changedTouches=[s],i(s)}}function v_(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Be(s),Ls(i,s)}function y_(i){var s={},l,c;for(c in i)l=i[c],s[c]=l&&l.bind?l.bind(i):l;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var w_=200;function x_(i,s){i.addEventListener("dblclick",s);var l=0,c;function f(g){if(g.detail!==1){c=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var k=vh(g);if(!(k.some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!k.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement}))){var C=Date.now();C-l<=w_?(c++,c===2&&s(y_(g))):c=1,l=C}}}return i.addEventListener("click",f),{dblclick:s,simDblclick:f}}function k_(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var ja=Os(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ur=Os(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ph=ur==="webkitTransition"||ur==="OTransition"?ur+"End":"transitionend";function mh(i){return typeof i=="string"?document.getElementById(i):i}function cr(i,s){var l=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);l=c?c[s]:null}return l==="auto"?null:l}function oe(i,s,l){var c=document.createElement(i);return c.className=s||"",l&&l.appendChild(c),c}function ve(i){var s=i.parentNode;s&&s.removeChild(i)}function Ts(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function pi(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function mi(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function Ma(i,s){if(i.classList!==void 0)return i.classList.contains(s);var l=bs(i);return l.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(l)}function Q(i,s){if(i.classList!==void 0)for(var l=T(s),c=0,f=l.length;c<f;c++)i.classList.add(l[c]);else if(!Ma(i,s)){var g=bs(i);Aa(i,(g?g+" ":"")+s)}}function Le(i,s){i.classList!==void 0?i.classList.remove(s):Aa(i,P((" "+bs(i)+" ").replace(" "+s+" "," ")))}function Aa(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function bs(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function _t(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&S_(i,s)}function S_(i,s){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),l?(l.Enabled=s!==100,l.Opacity=s):i.style.filter+=" progid:"+c+"(opacity="+s+")"}function Os(i){for(var s=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in s)return i[l];return!1}function $n(i,s,l){var c=s||new I(0,0);i.style[ja]=(Z.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function be(i,s){i._leaflet_pos=s,Z.any3d?$n(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function Un(i){return i._leaflet_pos||new I(0,0)}var hr,dr,Ra;if("onselectstart"in document)hr=function(){J(window,"selectstart",Be)},dr=function(){he(window,"selectstart",Be)};else{var fr=Os(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);hr=function(){if(fr){var i=document.documentElement.style;Ra=i[fr],i[fr]="none"}},dr=function(){fr&&(document.documentElement.style[fr]=Ra,Ra=void 0)}}function za(){J(window,"dragstart",Be)}function Da(){he(window,"dragstart",Be)}var Ns,Ba;function $a(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Is(),Ns=i,Ba=i.style.outlineStyle,i.style.outlineStyle="none",J(window,"keydown",Is))}function Is(){Ns&&(Ns.style.outlineStyle=Ba,Ns=void 0,Ba=void 0,he(window,"keydown",Is))}function gh(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Ua(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}var P_={__proto__:null,TRANSFORM:ja,TRANSITION:ur,TRANSITION_END:ph,get:mh,getStyle:cr,create:oe,remove:ve,empty:Ts,toFront:pi,toBack:mi,hasClass:Ma,addClass:Q,removeClass:Le,setClass:Aa,getClass:bs,setOpacity:_t,testProp:Os,setTransform:$n,setPosition:be,getPosition:Un,get disableTextSelection(){return hr},get enableTextSelection(){return dr},disableImageDrag:za,enableImageDrag:Da,preventOutline:$a,restoreOutline:Is,getSizedParentNode:gh,getScale:Ua};function J(i,s,l,c){if(s&&typeof s=="object")for(var f in s)Za(i,f,s[f],l);else{s=T(s);for(var g=0,k=s.length;g<k;g++)Za(i,s[g],l,c)}return this}var Dt="_leaflet_events";function he(i,s,l,c){if(arguments.length===1)_h(i),delete i[Dt];else if(s&&typeof s=="object")for(var f in s)Ha(i,f,s[f],l);else if(s=T(s),arguments.length===2)_h(i,function(C){return b(s,C)!==-1});else for(var g=0,k=s.length;g<k;g++)Ha(i,s[g],l,c);return this}function _h(i,s){for(var l in i[Dt]){var c=l.split(/\d/)[0];(!s||s(c))&&Ha(i,c,null,null,l)}}var Fa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Za(i,s,l,c){var f=s+d(l)+(c?"_"+d(c):"");if(i[Dt]&&i[Dt][f])return this;var g=function(C){return l.call(c||i,C||window.event)},k=g;!Z.touchNative&&Z.pointer&&s.indexOf("touch")===0?g=f_(i,s,g):Z.touch&&s==="dblclick"?g=x_(i,g):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(Fa[s]||s,g,Z.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(g=function(C){C=C||window.event,Va(i,C)&&k(C)},i.addEventListener(Fa[s],g,!1)):i.addEventListener(s,k,!1):i.attachEvent("on"+s,g),i[Dt]=i[Dt]||{},i[Dt][f]=g}function Ha(i,s,l,c,f){f=f||s+d(l)+(c?"_"+d(c):"");var g=i[Dt]&&i[Dt][f];if(!g)return this;!Z.touchNative&&Z.pointer&&s.indexOf("touch")===0?p_(i,s,g):Z.touch&&s==="dblclick"?k_(i,g):"removeEventListener"in i?i.removeEventListener(Fa[s]||s,g,!1):i.detachEvent("on"+s,g),i[Dt][f]=null}function Fn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Wa(i){return Za(i,"wheel",Fn),this}function pr(i){return J(i,"mousedown touchstart dblclick contextmenu",Fn),i._leaflet_disable_click=!0,this}function Be(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Zn(i){return Be(i),Fn(i),this}function vh(i){if(i.composedPath)return i.composedPath();for(var s=[],l=i.target;l;)s.push(l),l=l.parentNode;return s}function yh(i,s){if(!s)return new I(i.clientX,i.clientY);var l=Ua(s),c=l.boundingClientRect;return new I((i.clientX-c.left)/l.x-s.clientLeft,(i.clientY-c.top)/l.y-s.clientTop)}var E_=Z.linux&&Z.chrome?window.devicePixelRatio:Z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wh(i){return Z.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/E_:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Va(i,s){var l=s.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var C_={__proto__:null,on:J,off:he,stopPropagation:Fn,disableScrollPropagation:Wa,disableClickPropagation:pr,preventDefault:Be,stop:Zn,getPropagationPath:vh,getMousePosition:yh,getWheelDelta:wh,isExternalTarget:Va,addListener:J,removeListener:he},xh=Ye.extend({run:function(i,s,l,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Un(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ue(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,l=this._duration*1e3;s<l?this._runFrame(this._easeOut(s/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var l=this._startPos.add(this._offset.multiplyBy(i));s&&l._round(),be(this._el,l),this.fire("step")},_complete:function(){Ee(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ie=Ye.extend({options:{crs:Ca,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=E(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(q(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ur&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),J(this._proxy,ph,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,l){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(q(i),s,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,l.zoom):this._tryAnimatedPan(i,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,l){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),g=i instanceof I?i:this.latLngToContainerPoint(i),k=g.subtract(f).multiplyBy(1-1/c),C=this.containerPointToLatLng(f.add(k));return this.setView(C,s,{zoom:l})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():ae(i);var l=z(s.paddingTopLeft||s.padding||[0,0]),c=z(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(i,!1,l.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var g=c.subtract(l).divideBy(2),k=this.project(i.getSouthWest(),f),C=this.project(i.getNorthEast(),f),O=this.unproject(k.add(C).divideBy(2).add(g),f);return{center:O,zoom:f}},fitBounds:function(i,s){if(i=ae(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,s);return this.setView(l.center,l.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=z(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new xh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Q(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,l){if(l=l||{},l.animate===!1||!Z.any3d)return this.setView(i,s,l);this._stop();var c=this.project(this.getCenter()),f=this.project(i),g=this.getSize(),k=this._zoom;i=q(i),s=s===void 0?k:s;var C=Math.max(g.x,g.y),O=C*this.getZoomScale(k,s),M=f.distanceTo(c)||1,B=1.42,W=B*B;function X(Oe){var Hs=Oe?-1:1,pv=Oe?O:C,mv=O*O-C*C+Hs*W*W*M*M,gv=2*pv*W*M,il=mv/gv,td=Math.sqrt(il*il+1)-il,_v=td<1e-9?-18:Math.log(td);return _v}function Ge(Oe){return(Math.exp(Oe)-Math.exp(-Oe))/2}function Ae(Oe){return(Math.exp(Oe)+Math.exp(-Oe))/2}function yt(Oe){return Ge(Oe)/Ae(Oe)}var et=X(0);function xi(Oe){return C*(Ae(et)/Ae(et+B*Oe))}function cv(Oe){return C*(Ae(et)*yt(et+B*Oe)-Ge(et))/W}function hv(Oe){return 1-Math.pow(1-Oe,1.5)}var dv=Date.now(),Xh=(X(1)-et)/B,fv=l.duration?1e3*l.duration:1e3*Xh*.8;function ed(){var Oe=(Date.now()-dv)/fv,Hs=hv(Oe)*Xh;Oe<=1?(this._flyToFrame=ue(ed,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(cv(Hs)/M)),k),this.getScaleZoom(C/xi(Hs),k),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),ed.call(this),this},flyToBounds:function(i,s){var l=this._getBoundsCenterZoom(i,s);return this.flyTo(l.center,l.zoom,s)},setMaxBounds:function(i){return i=ae(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,ae(i));return l.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var l=z(s.paddingTopLeft||s.padding||[0,0]),c=z(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),g=this.project(i),k=this.getPixelBounds(),C=te([k.min.add(l),k.max.subtract(c)]),O=C.getSize();if(!C.contains(g)){this._enforcingBounds=!0;var M=g.subtract(C.getCenter()),B=C.extend(g).getSize().subtract(O);f.x+=M.x<0?-B.x:B.x,f.y+=M.y<0?-B.y:B.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=s.divideBy(2).round(),f=l.divideBy(2).round(),g=c.subtract(f);return!g.x&&!g.y?this:(i.animate&&i.pan?this.panBy(g):(i.pan&&this._rawPanBy(g),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,l,i):navigator.geolocation.getCurrentPosition(s,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var s=i.code,l=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var s=i.coords.latitude,l=i.coords.longitude,c=new re(s,l),f=c.toBounds(i.coords.accuracy*2),g=this._locateOptions;if(g.setView){var k=this.getBoundsZoom(f);this.setView(c,g.maxZoom?Math.min(k,g.maxZoom):k)}var C={latlng:c,bounds:f,timestamp:i.timestamp};for(var O in i.coords)typeof i.coords[O]=="number"&&(C[O]=i.coords[O]);this.fire("locationfound",C)}},addHandler:function(i,s){if(!s)return this;var l=this[i]=new s(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ve(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ee(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)ve(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=oe("div",l,s||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new Ce(s,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,l){i=ae(i),l=z(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),g=this.getMaxZoom(),k=i.getNorthWest(),C=i.getSouthEast(),O=this.getSize().subtract(l),M=te(this.project(C,c),this.project(k,c)).getSize(),B=Z.any3d?this.options.zoomSnap:1,W=O.x/M.x,X=O.y/M.y,Ge=s?Math.max(W,X):Math.min(W,X);return c=this.getScaleZoom(Ge,c),B&&(c=Math.round(c/(B/100))*(B/100),c=s?Math.ceil(c/B)*B:Math.floor(c/B)*B),Math.max(f,Math.min(g,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var l=this._getTopLeftPoint(i,s);return new G(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var l=this.options.crs;return s=s===void 0?this._zoom:s,l.scale(i)/l.scale(s)},getScaleZoom:function(i,s){var l=this.options.crs;s=s===void 0?this._zoom:s;var c=l.zoom(i*l.scale(s));return isNaN(c)?1/0:c},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(q(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(z(i),s)},layerPointToLatLng:function(i){var s=z(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(q(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(q(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ae(i))},distance:function(i,s){return this.options.crs.distance(q(i),q(s))},containerPointToLayerPoint:function(i){return z(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return z(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(z(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(i)))},mouseEventToContainerPoint:function(i){return yh(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=mh(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");J(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,Q(i,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=cr(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),be(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Q(i.markerPane,"leaflet-zoom-hide"),Q(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s,l){be(this._mapPane,new I(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,l)._move(i,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,l,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ee(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){be(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var s=i?he:J;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ee(this._resizeRequest),this._resizeRequest=ue(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var l=[],c,f=s==="mouseout"||s==="mouseover",g=i.target||i.srcElement,k=!1;g;){if(c=this._targets[d(g)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){k=!0;break}if(c&&c.listens(s,!0)&&(f&&!Va(g,i)||(l.push(c),f))||g===this._container)break;g=g.parentNode}return!l.length&&!k&&!f&&this.listens(s,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var l=i.type;l==="mousedown"&&$a(s),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,l){if(i.type==="click"){var c=o({},i);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(i,s);if(l){for(var g=[],k=0;k<l.length;k++)l[k].listens(s,!0)&&g.push(l[k]);f=g.concat(f)}if(f.length){s==="contextmenu"&&Be(i);var C=f[0],O={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var M=C.getLatLng&&(!C._radius||C._radius<=10);O.containerPoint=M?this.latLngToContainerPoint(C.getLatLng()):this.mouseEventToContainerPoint(i),O.layerPoint=this.containerPointToLayerPoint(O.containerPoint),O.latlng=M?C.getLatLng():this.layerPointToLatLng(O.layerPoint)}for(k=0;k<f.length;k++)if(f[k].fire(s,O,!0),O.originalEvent._stopped||f[k].options.bubblingMouseEvents===!1&&b(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return Un(this._mapPane)||new I(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var l=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var l=this.getSize()._divideBy(2);return this.project(i,s)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return this.project(i,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return te([this.project(i.getSouthWest(),s)._subtract(c),this.project(i.getNorthWest(),s)._subtract(c),this.project(i.getSouthEast(),s)._subtract(c),this.project(i.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,l){if(!l)return i;var c=this.project(i,s),f=this.getSize().divideBy(2),g=new G(c.subtract(f),c.add(f)),k=this._getBoundsOffset(g,l,s);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?i:this.unproject(c.add(k),s)},_limitOffset:function(i,s){if(!s)return i;var l=this.getPixelBounds(),c=new G(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(i,s,l){var c=te(this.project(s.getNorthEast(),l),this.project(s.getSouthWest(),l)),f=c.min.subtract(i.min),g=c.max.subtract(i.max),k=this._rebound(f.x,-g.x),C=this._rebound(f.y,-g.y);return new I(k,C)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),l=this.getMaxZoom(),c=Z.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(s,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var l=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,s),!0)},_createAnimProxy:function(){var i=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var l=ja,c=this._proxy.style[l];$n(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ve(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();$n(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(i)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(ue(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,Q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function L_(i,s){return new ie(i,s)}var Lt=ge.extend({options:{position:"topright"},initialize:function(i){E(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),l=this.getPosition(),c=i._controlCorners[l];return Q(s,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ve(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),mr=function(i){return new Lt(i)};ie.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",l=this._controlContainer=oe("div",s+"control-container",this._container);function c(f,g){var k=s+f+" "+s+g;i[f+g]=oe("div",k,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)ve(this._controlCorners[i]);ve(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var kh=Lt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,l,c){return l<c?-1:c<l?1:0}},initialize:function(i,s,l){E(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Lt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=oe("div",i),l=this.options.collapsed;s.setAttribute("aria-haspopup",!0),pr(s),Wa(s);var c=this._section=oe("section",i+"-list");l&&(this._map.on("click",this.collapse,this),J(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=oe("a",i+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),J(f,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){Be(g),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=oe("div",i+"-base",c),this._separator=oe("div",i+"-separator",c),this._overlaysList=oe("div",i+"-overlays",c),s.appendChild(c)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ts(this._baseLayersList),Ts(this._overlaysList),this._layerControlInputs=[];var i,s,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),s=s||c.overlay,i=i||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(d(i.target)),l=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,s)},_createRadioElement:function(i,s){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(i){var s=document.createElement("label"),l=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(i.layer),J(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var g=document.createElement("span");s.appendChild(g),g.appendChild(c),g.appendChild(f);var k=i.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,s,l,c=[],f=[];this._handlingClick=!0;for(var g=i.length-1;g>=0;g--)s=i[g],l=this._getLayer(s.layerId).layer,s.checked?c.push(l):s.checked||f.push(l);for(g=0;g<f.length;g++)this._map.hasLayer(f[g])&&this._map.removeLayer(f[g]);for(g=0;g<c.length;g++)this._map.hasLayer(c[g])||this._map.addLayer(c[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,l,c=this._map.getZoom(),f=i.length-1;f>=0;f--)s=i[f],l=this._getLayer(s.layerId).layer,s.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,J(i,"click",Be),this.expand();var s=this;setTimeout(function(){he(i,"click",Be),s._preventClick=!1})}}),T_=function(i,s,l){return new kh(i,s,l)},Ga=Lt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",l=oe("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,l,c,f){var g=oe("a",l,c);return g.innerHTML=i,g.href="#",g.title=s,g.setAttribute("role","button"),g.setAttribute("aria-label",s),pr(g),J(g,"click",Zn),J(g,"click",f,this),J(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";Le(this._zoomInButton,s),Le(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Q(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Q(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ga,this.addControl(this.zoomControl))});var b_=function(i){return new Ga(i)},Sh=Lt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",l=oe("div",s),c=this.options;return this._addScales(c,s+"-line",l),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,l){i.metric&&(this._mScale=oe("div",s,l)),i.imperial&&(this._iScale=oe("div",s,l))},_update:function(){var i=this._map,s=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),l=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,l,s/i)},_updateImperial:function(i){var s=i*3.2808399,l,c,f;s>5280?(l=s/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(i,s,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),l=i/s;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,s*l}}),O_=function(i){return new Sh(i)},N_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',qa=Lt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?N_+" ":"")+"Leaflet</a>"},initialize:function(i){E(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),pr(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new qa().addTo(this)});var I_=function(i){return new qa(i)};Lt.Layers=kh,Lt.Zoom=Ga,Lt.Scale=Sh,Lt.Attribution=qa,mr.layers=T_,mr.zoom=b_,mr.scale=O_,mr.attribution=I_;var Bt=ge.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Bt.addTo=function(i,s){return i.addHandler(s,this),this};var j_={Events:Se},Ph=Z.touch?"touchstart mousedown":"mousedown",cn=Ye.extend({options:{clickTolerance:3},initialize:function(i,s,l,c){E(this,c),this._element=i,this._dragStartTarget=s||i,this._preventOutline=l},enable:function(){this._enabled||(J(this._dragStartTarget,Ph,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,Ph,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Ma(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){cn._dragging===this&&this.finishDrag();return}if(!(cn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(cn._dragging=this,this._preventOutline&&$a(this._element),za(),hr(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,l=gh(this._element);this._startPoint=new I(s.clientX,s.clientY),this._startPos=Un(this._element),this._parentScale=Ua(l);var c=i.type==="mousedown";J(document,c?"mousemove":"touchmove",this._onMove,this),J(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,l=new I(s.clientX,s.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,Be(i),this._moved||(this.fire("dragstart"),this._moved=!0,Q(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),be(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),Da(),dr();var s=this._moved&&this._moving;this._moving=!1,cn._dragging=!1,s&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Eh(i,s,l){var c,f=[1,4,2,8],g,k,C,O,M,B,W,X;for(g=0,B=i.length;g<B;g++)i[g]._code=Hn(i[g],s);for(C=0;C<4;C++){for(W=f[C],c=[],g=0,B=i.length,k=B-1;g<B;k=g++)O=i[g],M=i[k],O._code&W?M._code&W||(X=js(M,O,W,s,l),X._code=Hn(X,s),c.push(X)):(M._code&W&&(X=js(M,O,W,s,l),X._code=Hn(X,s),c.push(X)),c.push(O));i=c}return i}function Ch(i,s){var l,c,f,g,k,C,O,M,B;if(!i||i.length===0)throw new Error("latlngs not passed");vt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var W=q([0,0]),X=ae(i),Ge=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());Ge<1700&&(W=Ka(i));var Ae=i.length,yt=[];for(l=0;l<Ae;l++){var et=q(i[l]);yt.push(s.project(q([et.lat-W.lat,et.lng-W.lng])))}for(C=O=M=0,l=0,c=Ae-1;l<Ae;c=l++)f=yt[l],g=yt[c],k=f.y*g.x-g.y*f.x,O+=(f.x+g.x)*k,M+=(f.y+g.y)*k,C+=k*3;C===0?B=yt[0]:B=[O/C,M/C];var xi=s.unproject(z(B));return q([xi.lat+W.lat,xi.lng+W.lng])}function Ka(i){for(var s=0,l=0,c=0,f=0;f<i.length;f++){var g=q(i[f]);s+=g.lat,l+=g.lng,c++}return q([s/c,l/c])}var M_={__proto__:null,clipPolygon:Eh,polygonCenter:Ch,centroid:Ka};function Lh(i,s){if(!s||!i.length)return i.slice();var l=s*s;return i=z_(i,l),i=R_(i,l),i}function Th(i,s,l){return Math.sqrt(gr(i,s,l,!0))}function A_(i,s,l){return gr(i,s,l)}function R_(i,s){var l=i.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,Ja(i,f,s,0,l-1);var g,k=[];for(g=0;g<l;g++)f[g]&&k.push(i[g]);return k}function Ja(i,s,l,c,f){var g=0,k,C,O;for(C=c+1;C<=f-1;C++)O=gr(i[C],i[c],i[f],!0),O>g&&(k=C,g=O);g>l&&(s[k]=1,Ja(i,s,l,c,k),Ja(i,s,l,k,f))}function z_(i,s){for(var l=[i[0]],c=1,f=0,g=i.length;c<g;c++)D_(i[c],i[f])>s&&(l.push(i[c]),f=c);return f<g-1&&l.push(i[g-1]),l}var bh;function Oh(i,s,l,c,f){var g=c?bh:Hn(i,l),k=Hn(s,l),C,O,M;for(bh=k;;){if(!(g|k))return[i,s];if(g&k)return!1;C=g||k,O=js(i,s,C,l,f),M=Hn(O,l),C===g?(i=O,g=M):(s=O,k=M)}}function js(i,s,l,c,f){var g=s.x-i.x,k=s.y-i.y,C=c.min,O=c.max,M,B;return l&8?(M=i.x+g*(O.y-i.y)/k,B=O.y):l&4?(M=i.x+g*(C.y-i.y)/k,B=C.y):l&2?(M=O.x,B=i.y+k*(O.x-i.x)/g):l&1&&(M=C.x,B=i.y+k*(C.x-i.x)/g),new I(M,B,f)}function Hn(i,s){var l=0;return i.x<s.min.x?l|=1:i.x>s.max.x&&(l|=2),i.y<s.min.y?l|=4:i.y>s.max.y&&(l|=8),l}function D_(i,s){var l=s.x-i.x,c=s.y-i.y;return l*l+c*c}function gr(i,s,l,c){var f=s.x,g=s.y,k=l.x-f,C=l.y-g,O=k*k+C*C,M;return O>0&&(M=((i.x-f)*k+(i.y-g)*C)/O,M>1?(f=l.x,g=l.y):M>0&&(f+=k*M,g+=C*M)),k=i.x-f,C=i.y-g,c?k*k+C*C:new I(f,g)}function vt(i){return!S(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Nh(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),vt(i)}function Ih(i,s){var l,c,f,g,k,C,O,M;if(!i||i.length===0)throw new Error("latlngs not passed");vt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var B=q([0,0]),W=ae(i),X=W.getNorthWest().distanceTo(W.getSouthWest())*W.getNorthEast().distanceTo(W.getNorthWest());X<1700&&(B=Ka(i));var Ge=i.length,Ae=[];for(l=0;l<Ge;l++){var yt=q(i[l]);Ae.push(s.project(q([yt.lat-B.lat,yt.lng-B.lng])))}for(l=0,c=0;l<Ge-1;l++)c+=Ae[l].distanceTo(Ae[l+1])/2;if(c===0)M=Ae[0];else for(l=0,g=0;l<Ge-1;l++)if(k=Ae[l],C=Ae[l+1],f=k.distanceTo(C),g+=f,g>c){O=(g-c)/f,M=[C.x-O*(C.x-k.x),C.y-O*(C.y-k.y)];break}var et=s.unproject(z(M));return q([et.lat+B.lat,et.lng+B.lng])}var B_={__proto__:null,simplify:Lh,pointToSegmentDistance:Th,closestPointOnSegment:A_,clipSegment:Oh,_getEdgeIntersection:js,_getBitCode:Hn,_sqClosestPointOnSegment:gr,isFlat:vt,_flat:Nh,polylineCenter:Ih},Qa={project:function(i){return new I(i.lng,i.lat)},unproject:function(i){return new re(i.y,i.x)},bounds:new G([-180,-90],[180,90])},Ya={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,l=this.R,c=i.lat*s,f=this.R_MINOR/l,g=Math.sqrt(1-f*f),k=g*Math.sin(c),C=Math.tan(Math.PI/4-c/2)/Math.pow((1-k)/(1+k),g/2);return c=-l*Math.log(Math.max(C,1e-10)),new I(i.lng*s*l,c)},unproject:function(i){for(var s=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),g=Math.exp(-i.y/l),k=Math.PI/2-2*Math.atan(g),C=0,O=.1,M;C<15&&Math.abs(O)>1e-7;C++)M=f*Math.sin(k),M=Math.pow((1-M)/(1+M),f/2),O=Math.PI/2-2*Math.atan(g*M)-k,k+=O;return new re(k*s,i.x*s/l)}},$_={__proto__:null,LonLat:Qa,Mercator:Ya,SphericalMercator:Pa},U_=o({},un,{code:"EPSG:3395",projection:Ya,transformation:function(){var i=.5/(Math.PI*Ya.R);return ar(i,.5,-i,.5)}()}),jh=o({},un,{code:"EPSG:4326",projection:Qa,transformation:ar(1/180,1,-1/180,.5)}),F_=o({},Xe,{projection:Qa,transformation:ar(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var l=s.lng-i.lng,c=s.lat-i.lat;return Math.sqrt(l*l+c*c)},infinite:!0});Xe.Earth=un,Xe.EPSG3395=U_,Xe.EPSG3857=Ca,Xe.EPSG900913=qg,Xe.EPSG4326=jh,Xe.Simple=F_;var Tt=Ye.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var l=this.getEvents();s.on(l,this),this.once("remove",function(){s.off(l,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=d(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},_addLayers:function(i){i=i?S(i)?i:[i]:[];for(var s=0,l=i.length;s<l;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=d(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var gi=Tt.extend({initialize:function(i,s){E(this,s),this._layers={};var l,c;if(i)for(l=0,c=i.length;l<c;l++)this.addLayer(i[l])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[i]&&c[i].apply(c,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),Z_=function(i,s){return new gi(i,s)},Gt=gi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),gi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),gi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Ce;for(var s in this._layers){var l=this._layers[s];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),H_=function(i,s){return new Gt(i,s)},_i=ge.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){E(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,s){var l=this.options,c=l[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=z(c),g=z(s==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(l.className||""),g&&(i.style.marginLeft=-g.x+"px",i.style.marginTop=-g.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return Z.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function W_(i){return new _i(i)}var _r=_i.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof _r.imagePath!="string"&&(_r.imagePath=this._detectIconPath()),(this.options.imagePath||_r.imagePath)+_i.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(l,c,f){var g=c.exec(l);return g&&g[f]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=oe("div","leaflet-default-icon-path",document.body),s=cr(i,"background-image")||cr(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Mh=Bt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new cn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Q(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,l=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,g=Un(s._icon),k=l.getPixelBounds(),C=l.getPixelOrigin(),O=te(k.min._subtract(C).add(f),k.max._subtract(C).subtract(f));if(!O.contains(g)){var M=z((Math.max(O.max.x,g.x)-O.max.x)/(k.max.x-O.max.x)-(Math.min(O.min.x,g.x)-O.min.x)/(k.min.x-O.min.x),(Math.max(O.max.y,g.y)-O.max.y)/(k.max.y-O.max.y)-(Math.min(O.min.y,g.y)-O.min.y)/(k.min.y-O.min.y)).multiplyBy(c);l.panBy(M,{animate:!1}),this._draggable._newPos._add(M),this._draggable._startPos._add(M),be(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=ue(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Ee(this._panRequest),this._panRequest=ue(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,l=s._shadow,c=Un(s._icon),f=s._map.layerPointToLatLng(c);l&&be(l,c),s._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Ee(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Ms=Tt.extend({options:{icon:new _r,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){E(this,s),this._latlng=q(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=q(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),Q(l,s),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&J(l,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),g=!1;f!==this._shadow&&(this._removeShadow(),g=!0),f&&(Q(f,s),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&g&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),ve(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ve(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&be(this._icon,i),this._shadow&&be(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mh)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mh(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&_t(this._icon,i),this._shadow&&_t(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var s=this.options.icon.options,l=s.iconSize?z(s.iconSize):z(0,0),c=s.iconAnchor?z(s.iconAnchor):z(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function V_(i,s){return new Ms(i,s)}var hn=Tt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return E(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),As=hn.extend({options:{fill:!0,radius:10},initialize:function(i,s){E(this,s),this._latlng=q(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=q(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return hn.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,l=this._clickTolerance(),c=[i+l,s+l];this._pxBounds=new G(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function G_(i,s){return new As(i,s)}var Xa=As.extend({initialize:function(i,s,l){if(typeof s=="number"&&(s=o({},l,{radius:s})),E(this,s),this._latlng=q(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:hn.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===un.distance){var f=Math.PI/180,g=this._mRadius/un.R/f,k=l.project([s+g,i]),C=l.project([s-g,i]),O=k.add(C).divideBy(2),M=l.unproject(O).lat,B=Math.acos((Math.cos(g*f)-Math.sin(s*f)*Math.sin(M*f))/(Math.cos(s*f)*Math.cos(M*f)))/f;(isNaN(B)||B===0)&&(B=g/Math.cos(Math.PI/180*s)),this._point=O.subtract(l.getPixelOrigin()),this._radius=isNaN(B)?0:O.x-l.project([M,i-B]).x,this._radiusY=O.y-k.y}else{var W=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(W).x}this._updateBounds()}});function q_(i,s,l){return new Xa(i,s,l)}var qt=hn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){E(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,l=null,c=gr,f,g,k=0,C=this._parts.length;k<C;k++)for(var O=this._parts[k],M=1,B=O.length;M<B;M++){f=O[M-1],g=O[M];var W=c(i,f,g,!0);W<s&&(s=W,l=c(i,f,g))}return l&&(l.distance=Math.sqrt(s)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ih(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=q(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Ce,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return vt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],l=vt(i),c=0,f=i.length;c<f;c++)l?(s[c]=q(i[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(i[c]);return s},_project:function(){var i=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new I(i,i);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,l){var c=i[0]instanceof re,f=i.length,g,k;if(c){for(k=[],g=0;g<f;g++)k[g]=this._map.latLngToLayerPoint(i[g]),l.extend(k[g]);s.push(k)}else for(g=0;g<f;g++)this._projectLatlngs(i[g],s,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,l,c,f,g,k,C,O;for(l=0,f=0,g=this._rings.length;l<g;l++)for(O=this._rings[l],c=0,k=O.length;c<k-1;c++)C=Oh(O[c],O[c+1],i,c,!0),C&&(s[f]=s[f]||[],s[f].push(C[0]),(C[1]!==O[c+1]||c===k-2)&&(s[f].push(C[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,l=0,c=i.length;l<c;l++)i[l]=Lh(i[l],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var l,c,f,g,k,C,O=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,g=this._parts.length;l<g;l++)for(C=this._parts[l],c=0,k=C.length,f=k-1;c<k;f=c++)if(!(!s&&c===0)&&Th(i,C[f],C[c])<=O)return!0;return!1}});function K_(i,s){return new qt(i,s)}qt._flat=Nh;var vi=qt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ch(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var s=qt.prototype._convertLatLngs.call(this,i),l=s.length;return l>=2&&s[0]instanceof re&&s[0].equals(s[l-1])&&s.pop(),s},_setLatLngs:function(i){qt.prototype._setLatLngs.call(this,i),vt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return vt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,l=new I(s,s);if(i=new G(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,g;c<f;c++)g=Eh(this._rings[c],i,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,l,c,f,g,k,C,O,M;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(g=0,O=this._parts.length;g<O;g++)for(l=this._parts[g],k=0,M=l.length,C=M-1;k<M;C=k++)c=l[k],f=l[C],c.y>i.y!=f.y>i.y&&i.x<(f.x-c.x)*(i.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||qt.prototype._containsPoint.call(this,i,!0)}});function J_(i,s){return new vi(i,s)}var Kt=Gt.extend({initialize:function(i,s){E(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=S(i)?i:i.features,l,c,f;if(s){for(l=0,c=s.length;l<c;l++)f=s[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var g=this.options;if(g.filter&&!g.filter(i))return this;var k=Rs(i,g);return k?(k.feature=Bs(i),k.defaultOptions=k.options,this.resetStyle(k),g.onEachFeature&&g.onEachFeature(i,k),this.addLayer(k)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function Rs(i,s){var l=i.type==="Feature"?i.geometry:i,c=l?l.coordinates:null,f=[],g=s&&s.pointToLayer,k=s&&s.coordsToLatLng||el,C,O,M,B;if(!c&&!l)return null;switch(l.type){case"Point":return C=k(c),Ah(g,i,C,s);case"MultiPoint":for(M=0,B=c.length;M<B;M++)C=k(c[M]),f.push(Ah(g,i,C,s));return new Gt(f);case"LineString":case"MultiLineString":return O=zs(c,l.type==="LineString"?0:1,k),new qt(O,s);case"Polygon":case"MultiPolygon":return O=zs(c,l.type==="Polygon"?1:2,k),new vi(O,s);case"GeometryCollection":for(M=0,B=l.geometries.length;M<B;M++){var W=Rs({geometry:l.geometries[M],type:"Feature",properties:i.properties},s);W&&f.push(W)}return new Gt(f);case"FeatureCollection":for(M=0,B=l.features.length;M<B;M++){var X=Rs(l.features[M],s);X&&f.push(X)}return new Gt(f);default:throw new Error("Invalid GeoJSON object.")}}function Ah(i,s,l,c){return i?i(s,l):new Ms(l,c&&c.markersInheritOptions&&c)}function el(i){return new re(i[1],i[0],i[2])}function zs(i,s,l){for(var c=[],f=0,g=i.length,k;f<g;f++)k=s?zs(i[f],s-1,l):(l||el)(i[f]),c.push(k);return c}function tl(i,s){return i=q(i),i.alt!==void 0?[v(i.lng,s),v(i.lat,s),v(i.alt,s)]:[v(i.lng,s),v(i.lat,s)]}function Ds(i,s,l,c){for(var f=[],g=0,k=i.length;g<k;g++)f.push(s?Ds(i[g],vt(i[g])?0:s-1,l,c):tl(i[g],c));return!s&&l&&f.length>0&&f.push(f[0].slice()),f}function yi(i,s){return i.feature?o({},i.feature,{geometry:s}):Bs(s)}function Bs(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var nl={toGeoJSON:function(i){return yi(this,{type:"Point",coordinates:tl(this.getLatLng(),i)})}};Ms.include(nl),Xa.include(nl),As.include(nl),qt.include({toGeoJSON:function(i){var s=!vt(this._latlngs),l=Ds(this._latlngs,s?1:0,!1,i);return yi(this,{type:(s?"Multi":"")+"LineString",coordinates:l})}}),vi.include({toGeoJSON:function(i){var s=!vt(this._latlngs),l=s&&!vt(this._latlngs[0]),c=Ds(this._latlngs,l?2:s?1:0,!0,i);return s||(c=[c]),yi(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),gi.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(l){s.push(l.toGeoJSON(i).geometry.coordinates)}),yi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var l=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var g=f.toGeoJSON(i);if(l)c.push(g.geometry);else{var k=Bs(g);k.type==="FeatureCollection"?c.push.apply(c,k.features):c.push(k)}}}),l?yi(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Rh(i,s){return new Kt(i,s)}var Q_=Rh,$s=Tt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,l){this._url=i,this._bounds=ae(s),E(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ve(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&pi(this._image),this},bringToBack:function(){return this._map&&mi(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ae(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:oe("img");if(Q(s,"leaflet-image-layer"),this._zoomAnimated&&Q(s,"leaflet-zoom-animated"),this.options.className&&Q(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;$n(this._image,l,s)},_reset:function(){var i=this._image,s=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=s.getSize();be(i,s.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){_t(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Y_=function(i,s,l){return new $s(i,s,l)},zh=$s.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:oe("video");if(Q(s,"leaflet-image-layer"),this._zoomAnimated&&Q(s,"leaflet-zoom-animated"),this.options.className&&Q(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onloadeddata=u(this.fire,this,"load"),i){for(var l=s.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[s.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var k=oe("source");k.src=this._url[g],s.appendChild(k)}}});function X_(i,s,l){return new zh(i,s,l)}var Dh=$s.extend({_initImage:function(){var i=this._image=this._url;Q(i,"leaflet-image-layer"),this._zoomAnimated&&Q(i,"leaflet-zoom-animated"),this.options.className&&Q(i,this.options.className),i.onselectstart=_,i.onmousemove=_}});function ev(i,s,l){return new Dh(i,s,l)}var $t=Tt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,s){i&&(i instanceof re||S(i))?(this._latlng=q(i),E(this,s)):(E(this,i),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&_t(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&_t(this._container,1),this.bringToFront(),this.options.interactive&&(Q(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(_t(this._container,0),this._removeTimeout=setTimeout(u(ve,void 0,this._container),200)):ve(this._container),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=q(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&pi(this._container),this},bringToBack:function(){return this._map&&mi(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof Gt){s=null;var l=this._source._layers;for(var c in l)if(l[c]._map){s=l[c];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=z(this.options.offset),l=this._getAnchor();this._zoomAnimated?be(this._container,i.add(l)):s=s.add(i).add(l);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(i,s,l,c){var f=s;return f instanceof i||(f=new i(c).setContent(s)),l&&f.setLatLng(l),f}}),Tt.include({_initOverlay:function(i,s,l,c){var f=l;return f instanceof i?(E(f,c),f._source=this):(f=s&&!c?s:new i(c,this),f.setContent(l)),f}});var Us=$t.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,$t.prototype.openOn.call(this,i)},onAdd:function(i){$t.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hn||this._source.on("preclick",Fn))},onRemove:function(i){$t.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hn||this._source.off("preclick",Fn))},getEvents:function(){var i=$t.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=oe("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=oe("div",i+"-content-wrapper",s);if(this._contentNode=oe("div",i+"-content",l),pr(s),Wa(this._contentNode),J(s,"contextmenu",Fn),this._tipContainer=oe("div",i+"-tip-container",s),this._tip=oe("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=oe("a",i+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',J(c,"click",function(f){Be(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),s.width=l+1+"px",s.whiteSpace="",s.height="";var c=i.offsetHeight,f=this.options.maxHeight,g="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",Q(i,g)):Le(i,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();be(this._container,s.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,s=parseInt(cr(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,c=this._containerWidth,f=new I(this._containerLeft,-l-this._containerBottom);f._add(Un(this._container));var g=i.layerPointToContainerPoint(f),k=z(this.options.autoPanPadding),C=z(this.options.autoPanPaddingTopLeft||k),O=z(this.options.autoPanPaddingBottomRight||k),M=i.getSize(),B=0,W=0;g.x+c+O.x>M.x&&(B=g.x+c-M.x+O.x),g.x-B-C.x<0&&(B=g.x-C.x),g.y+l+O.y>M.y&&(W=g.y+l-M.y+O.y),g.y-W-C.y<0&&(W=g.y-C.y),(B||W)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([B,W]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),tv=function(i,s){return new Us(i,s)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(i,s,l){return this._initOverlay(Us,i,s,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Tt.include({bindPopup:function(i,s){return this._popup=this._initOverlay(Us,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Gt||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Zn(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof hn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Fs=$t.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){$t.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){$t.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=$t.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,l,c=this._map,f=this._container,g=c.latLngToContainerPoint(c.getCenter()),k=c.layerPointToContainerPoint(i),C=this.options.direction,O=f.offsetWidth,M=f.offsetHeight,B=z(this.options.offset),W=this._getAnchor();C==="top"?(s=O/2,l=M):C==="bottom"?(s=O/2,l=0):C==="center"?(s=O/2,l=M/2):C==="right"?(s=0,l=M/2):C==="left"?(s=O,l=M/2):k.x<g.x?(C="right",s=0,l=M/2):(C="left",s=O+(B.x+W.x)*2,l=M/2),i=i.subtract(z(s,l,!0)).add(B).add(W),Le(f,"leaflet-tooltip-right"),Le(f,"leaflet-tooltip-left"),Le(f,"leaflet-tooltip-top"),Le(f,"leaflet-tooltip-bottom"),Q(f,"leaflet-tooltip-"+C),be(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&_t(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),nv=function(i,s){return new Fs(i,s)};ie.include({openTooltip:function(i,s,l){return this._initOverlay(Fs,i,s,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Tt.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fs,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[s](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Gt||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&(J(s,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),J(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var s=i.latlng,l,c;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(l),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var Bh=_i.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(Ts(s),s.appendChild(l.html)):s.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=z(l.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function iv(i){return new Bh(i)}_i.Default=_r;var vr=Tt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){E(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),ve(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(pi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(mi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof I?i:new I(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,l=-i(-1/0,1/0),c=0,f=s.length,g;c<f;c++)g=s[c].style.zIndex,s[c]!==this._container&&g&&(l=i(l,+g));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Z.ielt9){_t(this._container,this.options.opacity);var i=+new Date,s=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var g=Math.min(1,(i-f.loaded)/200);_t(f.el,g),g<1?s=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),s&&(Ee(this._fadeFrame),this._fadeFrame=ue(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=s-Math.abs(i-l),this._onUpdateLevel(l)):(ve(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[i],f=this._map;return c||(c=this._levels[i]={},c.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,f.getCenter(),f.getZoom()),_(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var i,s,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)ve(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,l,c){var f=Math.floor(i/2),g=Math.floor(s/2),k=l-1,C=new I(+f,+g);C.z=+k;var O=this._tileCoordsToKey(C),M=this._tiles[O];return M&&M.active?(M.retain=!0,!0):(M&&M.loaded&&(M.retain=!0),k>c?this._retainParent(f,g,k,c):!1)},_retainChildren:function(i,s,l,c){for(var f=2*i;f<2*i+2;f++)for(var g=2*s;g<2*s+2;g++){var k=new I(f,g);k.z=l+1;var C=this._tileCoordsToKey(k),O=this._tiles[C];if(O&&O.active){O.retain=!0;continue}else O&&O.loaded&&(O.retain=!0);l+1<c&&this._retainChildren(f,g,l+1,c)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,l,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var g=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||g)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,s)},_setZoomTransform:function(i,s,l){var c=this._map.getZoomScale(l,i.zoom),f=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,l)).round();Z.any3d?$n(i.el,f,c):be(i.el,f)},_resetGrid:function(){var i=this._map,s=i.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],c).x/l.x),Math.ceil(i.project([0,s.wrapLng[1]],c).x/l.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],c).y/l.x),Math.ceil(i.project([s.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,l=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(l,this._tileZoom),f=s.project(i,this._tileZoom).floor(),g=s.getSize().divideBy(c*2);return new G(f.subtract(g),f.add(g))},_update:function(i){var s=this._map;if(s){var l=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(c),g=f.getCenter(),k=[],C=this.options.keepBuffer,O=new G(f.getBottomLeft().subtract([C,-C]),f.getTopRight().add([C,-C]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var M in this._tiles){var B=this._tiles[M].coords;(B.z!==this._tileZoom||!O.contains(new I(B.x,B.y)))&&(this._tiles[M].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var W=f.min.y;W<=f.max.y;W++)for(var X=f.min.x;X<=f.max.x;X++){var Ge=new I(X,W);if(Ge.z=this._tileZoom,!!this._isValidTile(Ge)){var Ae=this._tiles[this._tileCoordsToKey(Ge)];Ae?Ae.current=!0:k.push(Ge)}}if(k.sort(function(et,xi){return et.distanceTo(g)-xi.distanceTo(g)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yt=document.createDocumentFragment();for(X=0;X<k.length;X++)this._addTile(k[X],yt);this._level.el.appendChild(yt)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var l=this._globalTileRange;if(!s.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!s.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return ae(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,l=this.getTileSize(),c=i.scaleBy(l),f=c.add(l),g=s.unproject(c,i.z),k=s.unproject(f,i.z);return[g,k]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),l=new Ce(s[0],s[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),l=new I(+s[0],+s[1]);return l.z=+s[2],l},_removeTile:function(i){var s=this._tiles[i];s&&(ve(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Q(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=_,i.onmousemove=_,Z.ielt9&&this.options.opacity<1&&_t(i,this.options.opacity)},_addTile:function(i,s){var l=this._getTilePos(i),c=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&ue(u(this._tileReady,this,i,null,f)),be(f,l),this._tiles[c]={el:f,coords:i,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,s,l){s&&this.fire("tileerror",{error:s,tile:l,coords:i});var c=this._tileCoordsToKey(i);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(_t(l.el,0),Ee(this._fadeFrame),this._fadeFrame=ue(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),s||(Q(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?ue(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new I(this._wrapX?m(i.x,this._wrapX):i.x,this._wrapY?m(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new G(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function rv(i){return new vr(i)}var wi=vr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=E(this,s),s.detectRetina&&Z.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var l=document.createElement("img");return J(l,"load",u(this._tileOnLoad,this,s,l)),J(l,"error",u(this._tileOnError,this,s,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var s={r:Z.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=l),s["-y"]=l}return y(this._url,o(s,this.options))},_tileOnLoad:function(i,s){Z.ielt9?setTimeout(u(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,l){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),i(l,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(i=s-i),i+c},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=_,s.onerror=_,!s.complete)){s.src=A;var l=this._tiles[i].coords;ve(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:l})}},_removeTile:function(i){var s=this._tiles[i];if(s)return s.el.setAttribute("src",A),vr.prototype._removeTile.call(this,i)},_tileReady:function(i,s,l){if(!(!this._map||l&&l.getAttribute("src")===A))return vr.prototype._tileReady.call(this,i,s,l)}});function $h(i,s){return new wi(i,s)}var Uh=wi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var l=o({},this.defaultWmsParams);for(var c in s)c in this.options||(l[c]=s[c]);s=E(this,s);var f=s.detectRetina&&Z.retina?2:1,g=this.getTileSize();l.width=g.x*f,l.height=g.y*f,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,wi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),l=this._crs,c=te(l.project(s[0]),l.project(s[1])),f=c.min,g=c.max,k=(this._wmsVersion>=1.3&&this._crs===jh?[f.y,f.x,g.y,g.x]:[f.x,f.y,g.x,g.y]).join(","),C=wi.prototype.getTileUrl.call(this,i);return C+j(this.wmsParams,C,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(i,s){return o(this.wmsParams,i),s||this.redraw(),this}});function sv(i,s){return new Uh(i,s)}wi.WMS=Uh,$h.wms=sv;var Jt=Tt.extend({options:{padding:.1},initialize:function(i){E(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var l=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),g=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(i,s));Z.any3d?$n(this._container,g,l):be(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),l=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new G(l,l.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fh=Jt.extend({options:{tolerance:0},getEvents:function(){var i=Jt.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Jt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");J(i,"mousemove",this._onMouseMove,this),J(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),J(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Ee(this._redrawRequest),delete this._ctx,ve(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jt.prototype._update.call(this);var i=this._bounds,s=this._container,l=i.getSize(),c=Z.retina?2:1;be(s,i.min),s.width=c*l.x,s.height=c*l.y,s.style.width=l.x+"px",s.style.height=l.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Jt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,l=s.next,c=s.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;l.push(c)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||ue(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var l=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(this._drawing){var l,c,f,g,k=i._parts,C=k.length,O=this._ctx;if(C){for(O.beginPath(),l=0;l<C;l++){for(c=0,f=k[l].length;c<f;c++)g=k[l][c],O[c?"lineTo":"moveTo"](g.x,g.y);s&&O.closePath()}this._fillStroke(O,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,l=this._ctx,c=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,s){var l=s.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(Le(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(Q(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,l){this._map._fireDOMEvent(s,l||s.type,i)},_bringToFront:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function Zh(i){return Z.canvas?new Fh(i):null}var yr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ov={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Jt.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=yr("shape");Q(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=yr("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;ve(s),i.removeInteractiveTarget(s),delete this._layers[d(i)]},_updateStyle:function(i){var s=i._stroke,l=i._fill,c=i.options,f=i._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=i._stroke=yr("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=S(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),i._stroke=null),c.fill?(l||(l=i._fill=yr("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),l=Math.round(i._radius),c=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){pi(i._container)},_bringToBack:function(i){mi(i._container)}},Zs=Z.vml?yr:Gc,wr=Jt.extend({_initContainer:function(){this._container=Zs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ve(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jt.prototype._update.call(this);var i=this._bounds,s=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,l.setAttribute("width",s.x),l.setAttribute("height",s.y)),be(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=Zs("path");i.options.className&&Q(s,i.options.className),i.options.interactive&&Q(s,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){ve(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,l=i.options;s&&(l.stroke?(s.setAttribute("stroke",l.color),s.setAttribute("stroke-opacity",l.opacity),s.setAttribute("stroke-width",l.weight),s.setAttribute("stroke-linecap",l.lineCap),s.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?s.setAttribute("stroke-dasharray",l.dashArray):s.removeAttribute("stroke-dasharray"),l.dashOffset?s.setAttribute("stroke-dashoffset",l.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),l.fill?(s.setAttribute("fill",l.fillColor||l.color),s.setAttribute("fill-opacity",l.fillOpacity),s.setAttribute("fill-rule",l.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,qc(i._parts,s))},_updateCircle:function(i){var s=i._point,l=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",g=i._empty()?"M0 0":"M"+(s.x-l)+","+s.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(i,g)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){pi(i._path)},_bringToBack:function(i){mi(i._path)}});Z.vml&&wr.include(ov);function Hh(i){return Z.svg||Z.vml?new wr(i):null}ie.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&Zh(i)||Hh(i)}});var Wh=vi.extend({initialize:function(i,s){vi.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ae(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function av(i,s){return new Wh(i,s)}wr.create=Zs,wr.pointsToPath=qc,Kt.geometryToLayer=Rs,Kt.coordsToLatLng=el,Kt.coordsToLatLngs=zs,Kt.latLngToCoords=tl,Kt.latLngsToCoords=Ds,Kt.getFeature=yi,Kt.asFeature=Bs,ie.mergeOptions({boxZoom:!0});var Vh=Bt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){J(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ve(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),hr(),za(),this._startPoint=this._map.mouseEventToContainerPoint(i),J(document,{contextmenu:Zn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),Q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new G(this._point,this._startPoint),l=s.getSize();be(this._box,s.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(ve(this._box),Le(this._container,"leaflet-crosshair")),dr(),Da(),he(document,{contextmenu:Zn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",Vh),ie.mergeOptions({doubleClickZoom:!0});var Gh=Bt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,l=s.getZoom(),c=s.options.zoomDelta,f=i.originalEvent.shiftKey?l-c:l+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(i.containerPoint,f)}});ie.addInitHook("addHandler","doubleClickZoom",Gh),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qh=Bt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new cn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ae(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+l)%i+s-l,g=(c+s+l)%i-s-l,k=Math.abs(f+l)<Math.abs(g+l)?f:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(i){var s=this._map,l=s.options,c=!l.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,k=l.easeLinearity,C=f.multiplyBy(k/g),O=C.distanceTo([0,0]),M=Math.min(l.inertiaMaxSpeed,O),B=C.multiplyBy(M/O),W=M/(l.inertiaDeceleration*k),X=B.multiplyBy(-W/2).round();!X.x&&!X.y?s.fire("moveend"):(X=s._limitOffset(X,s.options.maxBounds),ue(function(){s.panBy(X,{duration:W,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",qh),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Kh=Bt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),J(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,l=i.scrollTop||s.scrollTop,c=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)s[l.left[c]]=[-1*i,0];for(c=0,f=l.right.length;c<f;c++)s[l.right[c]]=[i,0];for(c=0,f=l.down.length;c<f;c++)s[l.down[c]]=[0,i];for(c=0,f=l.up.length;c<f;c++)s[l.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)s[l.zoomIn[c]]=i;for(c=0,f=l.zoomOut.length;c<f;c++)s[l.zoomOut[c]]=-i},_addHooks:function(){J(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,l=this._map,c;if(s in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[s],i.shiftKey&&(c=z(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(z(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(s in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;Zn(i)}}});ie.addInitHook("addHandler","keyboard",Kh),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Jh=Bt.extend({addHooks:function(){J(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=wh(i),l=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),Zn(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,g=l?Math.ceil(f/l)*l:f,k=i._limitZoom(s+(this._delta>0?g:-g))-s;this._delta=0,this._startTime=null,k&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+k):i.setZoomAround(this._lastMousePos,s+k))}});ie.addInitHook("addHandler","scrollWheelZoom",Jh);var lv=600;ie.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var Qh=Bt.extend({addHooks:function(){J(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new I(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(J(document,"touchend",Be),J(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),lv),J(document,"touchend touchcancel contextmenu",this._cancel,this),J(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){he(document,"touchend",Be),he(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new I(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});l._simulated=!0,s.target.dispatchEvent(l)}});ie.addInitHook("addHandler","tapHold",Qh),ie.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var Yh=Bt.extend({addHooks:function(){Q(this._map._container,"leaflet-touch-zoom"),J(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),J(document,"touchmove",this._onTouchMove,this),J(document,"touchend touchcancel",this._onTouchEnd,this),Be(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var g=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&g.x===0&&g.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Ee(this._animRequest);var k=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ue(k,this,!0),Be(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ee(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",Yh),ie.BoxZoom=Vh,ie.DoubleClickZoom=Gh,ie.Drag=qh,ie.Keyboard=Kh,ie.ScrollWheelZoom=Jh,ie.TapHold=Qh,ie.TouchZoom=Yh,n.Bounds=G,n.Browser=Z,n.CRS=Xe,n.Canvas=Fh,n.Circle=Xa,n.CircleMarker=As,n.Class=ge,n.Control=Lt,n.DivIcon=Bh,n.DivOverlay=$t,n.DomEvent=C_,n.DomUtil=P_,n.Draggable=cn,n.Evented=Ye,n.FeatureGroup=Gt,n.GeoJSON=Kt,n.GridLayer=vr,n.Handler=Bt,n.Icon=_i,n.ImageOverlay=$s,n.LatLng=re,n.LatLngBounds=Ce,n.Layer=Tt,n.LayerGroup=gi,n.LineUtil=B_,n.Map=ie,n.Marker=Ms,n.Mixin=j_,n.Path=hn,n.Point=I,n.PolyUtil=M_,n.Polygon=vi,n.Polyline=qt,n.Popup=Us,n.PosAnimation=xh,n.Projection=$_,n.Rectangle=Wh,n.Renderer=Jt,n.SVG=wr,n.SVGOverlay=Dh,n.TileLayer=wi,n.Tooltip=Fs,n.Transformation=Ea,n.Util=H,n.VideoOverlay=zh,n.bind=u,n.bounds=te,n.canvas=Zh,n.circle=q_,n.circleMarker=G_,n.control=mr,n.divIcon=iv,n.extend=o,n.featureGroup=H_,n.geoJSON=Rh,n.geoJson=Q_,n.gridLayer=rv,n.icon=W_,n.imageOverlay=Y_,n.latLng=q,n.latLngBounds=ae,n.layerGroup=Z_,n.map=L_,n.marker=V_,n.point=z,n.polygon=J_,n.polyline=K_,n.popup=tv,n.rectangle=av,n.setOptions=E,n.stamp=d,n.svg=Hh,n.svgOverlay=ev,n.tileLayer=$h,n.tooltip=nv,n.transformation=ar,n.version=r,n.videoOverlay=X_;var uv=window.L;n.noConflict=function(){return window.L=uv,this},window.L=n})})($u,$u.exports);var Es=$u.exports;function Hc(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Wc(e,t){return t==null?function(r,o){const a=N.useRef();return a.current||(a.current=e(r,o)),a}:function(r,o){const a=N.useRef();a.current||(a.current=e(r,o));const u=N.useRef(r),{instance:h}=a.current;return N.useEffect(function(){u.current!==r&&(t(h,r,u.current),u.current=r)},[h,r,o]),a}}function lS(e,t){N.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Gg(e){return function(n){const r=Wg(),o=e(Zc(n,r),r);return Fg(r.map,n.attribution),Vg(o.current,n.eventHandlers),lS(o.current,r),o}}function uS(e,t){const n=Wc(e,t),r=Gg(n);return rS(r)}function cS(e,t){const n=Wc(e),r=aS(n,t);return sS(r)}function hS(e,t){const n=Wc(e,t),r=Gg(n);return oS(r)}function dS(e,t,n){const{opacity:r,zIndex:o}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function Uu(){return Uu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uu.apply(this,arguments)}function fS({bounds:e,boundsOptions:t,center:n,children:r,className:o,id:a,placeholder:u,style:h,whenReady:d,zoom:p,...m},_){const[v]=N.useState({className:o,id:a,style:h}),[P,T]=N.useState(null);N.useImperativeHandle(_,()=>(P==null?void 0:P.map)??null,[P]);const E=N.useCallback(x=>{if(x!==null&&P===null){const y=new Es.Map(x,m);n!=null&&p!=null?y.setView(n,p):e!=null&&y.fitBounds(e,t),d!=null&&y.whenReady(d),T(nS(y))}},[]);N.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const j=P?qr.createElement(Hg,{value:P},r):u??null;return qr.createElement("div",Uu({},v,{ref:E}),j)}const pS=N.forwardRef(fS),Rl=uS(function({position:t,...n},r){const o=new Es.Marker(t,n);return Hc(o,iS(r,{overlayContainer:o}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),zl=cS(function(t,n){const r=new Es.Popup(t,n.overlayContainer);return Hc(r,n)},function(t,n,{position:r},o){N.useEffect(function(){const{instance:u}=t;function h(p){p.popup===u&&(u.update(),o(!0))}function d(p){p.popup===u&&o(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){var m;n.map.off({popupopen:h,popupclose:d}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(u)}},[t,n,o,r])}),mS=hS(function({url:t,...n},r){const o=new Es.TileLayer(t,Zc(n,r));return Hc(o,r)},function(t,n,r){dS(t,n,r);const{url:o}=n;o!=null&&o!==r.url&&t.setUrl(o)}),gS=()=>{const[e,t]=N.useState({latitude:null,longitude:null,error:null});return N.useEffect(()=>{if(!navigator.geolocation){t({latitude:null,longitude:null,error:"Geolocation is not supported by this browser."});return}if(window.location.protocol!=="https:"){t({latitude:null,longitude:null,error:"Geolocation requires a secure (HTTPS) connection."});return}const n=a=>{t({latitude:a.coords.latitude,longitude:a.coords.longitude,error:null})},r=a=>{let u="Unable to retrieve your location.";switch(a.code){case a.PERMISSION_DENIED:u="Location access was denied. Please enable it in your browser settings.";break;case a.POSITION_UNAVAILABLE:u="Location information is unavailable.";break;case a.TIMEOUT:u="The request to get user location timed out.";break;default:u="An unknown error occurred while retrieving location."}t({latitude:null,longitude:null,error:u})},o={enableHighAccuracy:!0,maximumAge:1e4,timeout:5e3};navigator.geolocation.getCurrentPosition(n,r,o)},[]),e},_S=()=>{const e=ks(),{user:t,isAuthenticated:n}=di(),[r,o]=N.useState([]),[a,u]=N.useState(!0),[h,d]=N.useState(null),[p,m]=N.useState(null),[_,v]=N.useState("map"),[P,T]=N.useState(null),E=gS(),[j,x]=N.useState(null),[y,S]=N.useState(""),[b,A]=N.useState(""),[D,$]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const{data:ge,error:gt}=await wt.from("chargers").select("*").order("created_at",{ascending:!1});if(gt)throw gt;o(ge||[])}catch(ge){d(ge.message)}finally{u(!1)}})()},[]),N.useEffect(()=>{let H=E.latitude,ge=E.longitude;if(D&&y&&b&&(H=parseFloat(y),ge=parseFloat(b)),r.length>0&&H&&ge){const gt=r.map(Ye=>{const I=H*Math.PI/180,V=ge*Math.PI/180,z=Ye.latitude*Math.PI/180,te=Ye.longitude*Math.PI/180-V,Ce=z-I,ae=Math.pow(Math.sin(Ce/2),2)+Math.cos(I)*Math.cos(z)*Math.pow(Math.sin(te/2),2);return 6371*(2*Math.atan2(Math.sqrt(ae),Math.sqrt(1-ae)))}),Se=gt.indexOf(Math.min(...gt));x(r[Se])}},[r,E.latitude,E.longitude,y,b,D]);const F=async H=>{if(!n){e("/login");return}if(!t){d("You must be logged in to make a reservation");return}try{m(H.id),d(null);const ge=H.price_per_kwh*10,{error:gt}=await wt.from("reservations").insert([{user_id:t.id,charger_id:H.id,start_time:new Date().toISOString(),duration:"1 hour",status:"pending",estimated_cost:ge}]);if(gt)throw gt;const{error:Se}=await wt.from("chargers").update({status:"occupied"}).eq("id",H.id);if(Se)throw Se;const{data:Ye,error:I}=await wt.from("chargers").select("*").order("created_at",{ascending:!1});if(I)throw I;o(Ye||[]),e("/wallet")}catch(ge){d(ge.message)}finally{m(null)}},ce=H=>{switch(H){case"available":return"bg-green-100 text-green-800";case"occupied":return"bg-yellow-100 text-yellow-800";case"maintenance":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},K=H=>{switch(H){case"available":return"#22c55e";case"occupied":return"#eab308";case"maintenance":return"#ef4444";default:return"#6b7280"}},ue=H=>new Es.Icon({iconUrl:`data:image/svg+xml;base64,${btoa(`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="${K(H)}" width="32" height="32">
          <circle cx="12" cy="12" r="10" fill="white" stroke="${K(H)}" stroke-width="2"/>
          <path d="M8 12h1.5v3.5h5V12H16v-1h-1.5V7.5h-5V11H8z" fill="${K(H)}"/>
        </svg>
      `)}`,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),Ee=({charger:H})=>w.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow ${H.id===(j==null?void 0:j.id)?"border-2 border-blue-500":""}`,children:w.jsxs("div",{className:"p-6",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(Ik,{className:"w-6 h-6 text-green-500 mr-2"}),w.jsx("span",{className:"text-lg font-semibold",children:H.type==="fast"?"Fast Charger":"Standard Charger"})]}),w.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium capitalize ${ce(H.status)}`,children:H.status})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center text-gray-600",children:[w.jsx(zk,{className:"w-5 h-5 mr-2"}),w.jsxs("span",{children:["$",H.price_per_kwh.toFixed(2)," / kWh"]})]}),H.estimated_wait_time&&w.jsxs("div",{className:"flex items-center text-gray-600",children:[w.jsx(Ak,{className:"w-5 h-5 mr-2"}),w.jsxs("span",{children:["~",H.estimated_wait_time," min wait"]})]}),w.jsxs("div",{className:"flex items-center text-gray-600",children:[w.jsx(ms,{className:"w-5 h-5 mr-2"}),w.jsxs("span",{children:[H.latitude.toFixed(6),", ",H.longitude.toFixed(6)]})]})]}),w.jsx("button",{className:"mt-6 w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>F(H),disabled:H.status!=="available"||p===H.id,children:p===H.id?w.jsxs("span",{className:"flex items-center justify-center",children:[w.jsx("div",{className:"w-5 h-5 border-t-2 border-white rounded-full animate-spin mr-2"}),"Reserving..."]}):H.status==="available"?"Reserve Now":"Not Available"})]})});return a?w.jsx("div",{className:"flex justify-center items-center min-h-[calc(100vh-4rem)]",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Available Chargers"}),w.jsxs("div",{className:"flex space-x-2",children:[E.error?w.jsxs("div",{className:"text-red-500",children:[w.jsx(ti,{className:"inline-block w-4 h-4 mr-1 align-text-bottom"}),E.error,E.error==="Location access was denied. Please enable it in your browser settings."&&w.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"To enable location, go to your browser settings and grant permission for this site."})]}):w.jsxs("button",{className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-700",onClick:()=>{window.location.reload()},children:[w.jsx(Uk,{className:"inline-block w-4 h-4 mr-1 align-text-bottom"}),"Refresh Location"]}),w.jsx("button",{onClick:()=>v("list"),className:`p-2 rounded-lg ${_==="list"?"bg-green-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:w.jsx($k,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>v("map"),className:`p-2 rounded-lg ${_==="map"?"bg-green-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:w.jsx(Hk,{className:"w-5 h-5"})})]})]}),h&&!E.error&&w.jsxs("div",{className:"mb-6 p-4 bg-red-50 rounded-lg flex items-center text-red-600",children:[w.jsx(ti,{className:"w-5 h-5 mr-2 flex-shrink-0"}),w.jsx("span",{children:h})]}),E.error&&E.error==="Location access was denied. Please enable it in your browser settings."&&w.jsxs("div",{className:"mb-4 p-4 bg-yellow-50 rounded-lg flex items-center text-yellow-700",children:[w.jsx(ti,{className:"w-5 h-5 mr-2 flex-shrink-0"}),w.jsx("span",{children:"Location access denied. You can manually enter your location below:"})]}),E.error&&E.error==="Location access was denied. Please enable it in your browser settings."&&w.jsxs("div",{className:"flex space-x-2 mb-4",children:[w.jsx("input",{type:"text",placeholder:"Latitude",value:y,onChange:H=>S(H.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500"}),w.jsx("input",{type:"text",placeholder:"Longitude",value:b,onChange:H=>A(H.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500"}),w.jsx("button",{onClick:()=>$(!0),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:"Apply"}),w.jsxs("button",{onClick:()=>{$(!1),S(""),A("")},className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:[w.jsx(Gk,{className:"inline-block w-4 h-4 mr-1 align-text-bottom"}),"Clear"]})]}),r.length===0?w.jsxs("div",{className:"text-center py-12",children:[w.jsx(ms,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),w.jsx("p",{className:"text-xl text-gray-600",children:"No chargers available at the moment"})]}):_==="map"?w.jsx("div",{className:"h-[calc(100vh-16rem)] rounded-lg overflow-hidden",children:w.jsxs(pS,{center:E.latitude&&E.longitude&&!D?[E.latitude,E.longitude]:y&&b&&D?[parseFloat(y),parseFloat(b)]:[40.7128,-74.006],zoom:E.latitude&&E.longitude||y&&b?15:12,style:{width:"100%",height:"100%"},children:[w.jsx(mS,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),E.latitude&&E.longitude&&!D&&w.jsx(Rl,{position:[E.latitude,E.longitude],children:w.jsx(zl,{children:"Your Location"})}),y&&b&&D&&w.jsx(Rl,{position:[parseFloat(y),parseFloat(b)],children:w.jsx(zl,{children:"Your Manual Location"})}),r.map(H=>w.jsx(Rl,{position:[H.latitude,H.longitude],icon:ue(H.status),eventHandlers:{click:()=>T(H)},children:w.jsx(zl,{children:w.jsx(Ee,{charger:H})})},H.id))]})}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(H=>w.jsx(Ee,{charger:H},H.id))})]})},vS=()=>{ks();const{user:e}=di(),[t,n]=N.useState(""),[r,o]=N.useState(""),[a,u]=N.useState(""),[h,d]=N.useState("standard"),[p,m]=N.useState(""),[_,v]=N.useState("available"),[P,T]=N.useState(!1),[E,j]=N.useState(null),[x,y]=N.useState(null),S=async b=>{if(b.preventDefault(),j(null),y(null),T(!0),!e){j("You must be logged in to add a charger."),T(!1);return}if(!t||!r||!a||!p){j("Please fill in all fields."),T(!1);return}const A=parseFloat(r),D=parseFloat(a),$=parseFloat(p);if(isNaN(A)||isNaN(D)){j("Invalid latitude or longitude."),T(!1);return}if(isNaN($)||$<=0){j("Power level must be a positive number."),T(!1);return}try{const{error:F}=await wt.from("chargers").insert([{type:h,status:_,price_per_kwh:h==="fast"?.45:.3,latitude:A,longitude:D,owner_id:e.id}]);if(F)throw F;y("Charger added successfully!"),n(""),o(""),u(""),m(""),d("standard"),v("available")}catch(F){j(F.message||"An error occurred while adding the charger.")}finally{T(!1)}};return w.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8",children:[w.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[w.jsx(Bg,{className:"w-8 h-8 text-green-500"}),w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Charger"})]}),E&&w.jsxs("div",{className:"mb-4 p-4 bg-red-50 rounded-lg flex items-center text-red-600",children:[w.jsx(ti,{className:"w-5 h-5 mr-2 flex-shrink-0"}),w.jsx("span",{children:E})]}),x&&w.jsxs("div",{className:"mb-4 p-4 bg-green-50 rounded-lg flex items-center text-green-600",children:[w.jsx(jk,{className:"w-5 h-5 mr-2 flex-shrink-0"}),w.jsx("span",{children:x})]}),w.jsxs("form",{onSubmit:S,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),w.jsx("input",{type:"text",value:t,onChange:b=>n(b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Charger Name",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),w.jsxs("div",{className:"mt-1 relative",children:[w.jsx("input",{type:"text",value:r,onChange:b=>o(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Latitude",required:!0}),w.jsx(ms,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),w.jsxs("div",{className:"mt-1 relative",children:[w.jsx("input",{type:"text",value:a,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Longitude",required:!0}),w.jsx(ms,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),w.jsxs("select",{value:h,onChange:b=>d(b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[w.jsx("option",{value:"standard",children:"Standard (AC)"}),w.jsx("option",{value:"fast",children:"Fast (DC)"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Power Level (kW)"}),w.jsxs("div",{className:"mt-1 relative",children:[w.jsx("input",{type:"number",value:p,onChange:b=>m(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"e.g., 50",required:!0,min:"1"}),w.jsx(Df,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),w.jsxs("select",{value:_,onChange:b=>v(b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[w.jsx("option",{value:"available",children:"Available"}),w.jsx("option",{value:"occupied",children:"Occupied"}),w.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),w.jsx("button",{type:"submit",disabled:P,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-500 hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:P?w.jsxs(w.Fragment,{children:[w.jsx(Df,{className:"animate-spin h-5 w-5 mr-3"}),"Adding..."]}):w.jsxs(w.Fragment,{children:[w.jsx(Mk,{className:"h-5 w-5 mr-2"}),"Add Charger"]})})]})]})};function yS(){return w.jsx(Hw,{children:w.jsx(zw,{children:w.jsxs(fn,{path:"/",element:w.jsx(Jk,{}),children:[w.jsx(fn,{index:!0,element:w.jsx(Qk,{})}),w.jsx(fn,{path:"login",element:w.jsx(Yk,{})}),w.jsx(fn,{path:"profile",element:w.jsx(Xk,{})}),w.jsx(fn,{path:"wallet",element:w.jsx(eS,{})}),w.jsx(fn,{path:"stations",element:w.jsx(_S,{})}),w.jsx(fn,{path:"add-charger",element:w.jsx(vS,{})})]})})})}Xm(document.getElementById("root")).render(w.jsx(N.StrictMode,{children:w.jsx(yS,{})}));export{Bf as g};
